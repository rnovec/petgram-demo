{"version":3,"sources":["util/auth.js","util/axios.js","api/users.js","context/auth.js","components/Navbar.js","components/Footer.js","layouts/Main.js","api/posts.js","util/time.js","components/AddComment.js","components/Comment.js","components/ConfirmDelete.js","components/PostOptions.js","components/Post.js","components/NewPost.js","context/posts.js","pages/Home.js","pages/Login.js","components/Input.js","pages/Register.js","layouts/Profile.js","components/PostPreview.js","components/ProfileForm.js","components/AccountForm.js","pages/Profile.js","router/GuardedRoute.js","router/index.js","index.js"],"names":["TokenKey","RefreshKey","getToken","Cookies","get","setRefreshToken","token","set","decodeToken","jwtDecode","_axios","axios","create","baseURL","mode","credentials","timeout","interceptors","request","use","config","public","headers","Authorization","response","res","data","error","Promise","reject","login","url","method","updateProfile","id","AuthContext","createContext","AuthContextProvider","children","useState","isAuthenticated","setIsAuthenticated","user","setUser","authenticate","a","access","refresh","resolve","getUser","contextValue","defaultAvatar","logout","remove","Provider","value","Navbar","history","useHistory","useContext","className","to","src","onClick","push","Footer","href","Principal","useEffect","createPost","createComment","getPostComments","timeSince","date","seconds","Math","floor","Date","interval","AddComment","post_id","onComment","message","setMessage","e","preventDefault","trim","user_id","picture","onSubmit","rows","onChange","target","placeholder","Comment","comment","fullname","created","ConfirmDelete","showModal","setShowModal","toggleModal","class","PostOptions","showOptions","setShowOptions","role","Post","post","showComments","setShowComment","comments","setComments","isLiked","setIsLiked","toggleComments","uuid","results","alt","username","photo","description","map","NewPost","selectedFile","setSelectedFile","filename","setFilename","setDescription","isLoading","setIsloading","form_data","FormData","append","name","aria-hidden","accept","files","slice","type","htmlFor","PostContext","PostContextProvider","posts","setPosts","getPostList","Home","i","Login","setUsername","password","setPassword","setIsLoading","width","autoComplete","required","Input","autocomplete","props","Register","email","password_confirm","val","attr","console","log","Profile","PostPreview","ProfileForm","address","phone","form","setForm","ProfileReview","isEdit","setIsEdit","toggleTab","then","length","GuardedRoute","Component","component","auth","rest","window","location","render","App","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3342144.chunk.js","sourcesContent":["import Cookies from 'js-cookie'\nimport jwtDecode from 'jwt-decode'\n\nconst TokenKey = 'Access-Token'\nconst RefreshKey = 'Refresh-Token'\n\nexport function getToken () {\n  return Cookies.get(TokenKey)\n}\n\nexport function getRefreshToken () {\n  return Cookies.get(RefreshKey)\n}\n\nexport function setToken (token) {\n  Cookies.set(TokenKey, token)\n}\n\nexport function setRefreshToken (token) {\n  Cookies.set(RefreshKey, token)\n}\n\nexport function removeToken () {\n  Cookies.remove(TokenKey)\n}\n\nexport function removeRefreshToken () {\n  Cookies.remove(RefreshKey)\n}\n\nexport function decodeToken (token) {\n  return jwtDecode(token)\n}\n","import axios from 'axios'\nimport { getToken } from './auth'\n\n// create singleton for axios\nconst _axios = axios.create({\n  baseURL:\n    process.env.NODE_ENV === 'development'\n      ? 'http://localhost:8000/api/v1'\n      : 'https://petgram-demo.herokuapp.com/api/v1',\n  mode: 'cors',\n  credentials: 'same-origin',\n  timeout: 20000\n})\n\n_axios.interceptors.request.use(config => {\n  const token = getToken()\n  if (!config.public) {\n    config.headers.Authorization = 'Bearer ' + token\n  }\n  return config\n})\n\n// response interceptor\n_axios.interceptors.response.use(\n  res => {\n    return res.data\n  },\n  error => {\n    return Promise.reject(error.response.data)\n  }\n)\n\nexport default _axios\n","import request from '../util/axios'\n\nexport function login (data) {\n  return request({\n    url: '/token/access/',\n    method: 'POST',\n    public: true,\n    data\n  })\n}\n\nexport function register (data) {\n  return request({\n    url: '/accounts/register/',\n    method: 'POST',\n    public: true,\n    data\n  })\n}\n\nexport function getUserInfo (id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'GET'\n  })\n}\n\nexport function updateProfile (id, data) {\n  return request({\n    url: `/users/${id}`,\n    headers: { 'Content-Type': 'multipart/form-data' },\n    method: 'PUT',\n    data\n  })\n}\n\nexport function getUserPosts (id) {\n  return request({\n    url: `/users/${id}/posts`,\n    method: 'GET'\n  })\n}\n\n","import React, { createContext, useState } from 'react'\nimport { login, getUserInfo } from '../api/users'\nimport {\n  decodeToken,\n  getToken,\n  removeRefreshToken,\n  removeToken,\n  setRefreshToken,\n  setToken\n} from '../util/auth'\n\nexport const AuthContext = createContext()\n\nexport const AuthContextProvider = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [user, setUser] = useState({})\n  const defaultAvatar =\n    'https://cooplaaurora.com/resources/members/default-user.jpg'\n\n  const authenticate = async data => {\n    const res = await login(data)\n    setToken(res.access)\n    setRefreshToken(res.refresh)\n    setIsAuthenticated(true)\n    Promise.resolve(res)\n  }\n\n  const logout = () => {\n    removeToken()\n    removeRefreshToken()\n    setIsAuthenticated(false)\n    setUser({})\n  }\n\n  const getUser = async () => {\n    const token = getToken()\n    const data = decodeToken(token)\n    const user = await getUserInfo(data.id)\n    setUser(user)\n    Promise.resolve(user)\n  }\n\n  const contextValue = {\n    user,\n    isAuthenticated,\n    defaultAvatar,\n    getUser,\n    setUser,\n    setIsAuthenticated,\n    authenticate,\n    logout\n  }\n\n  // Global data with Context Provider\n  return (\n    <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\n  )\n}\n","import { useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { AuthContext } from '../context/auth'\n\nexport default function Navbar () {\n  const history = useHistory()\n  const { logout } = useContext(AuthContext)\n\n  function handleLogout () {\n    logout()\n    history.push('/login')\n  }\n  return (\n    <div className='navbar is-inline-flex is-transparent'>\n      <div className='navbar-brand'>\n        <Link to='/' className='navbar-item'>\n          <img src='/petgram-demo/logo.png' />\n        </Link>\n      </div>\n      <div className='navbar-menu'>\n        <div className='navbar-item'>\n          {/* <div className='control has-icons-left'>\n            <input\n              className='input is-rounded is-small has-text-centered'\n              type='text'\n              placeholder='search'\n            />\n            <span className='icon is-left is-small'>\n              <i className='material-icons'>search</i>\n            </span>\n          </div> */}\n        </div>\n      </div>\n      <div className='navbar-item is-flex-touch'>\n        <Link className='navbar-item' to='/'>\n          <i className='material-icons'>home</i>\n        </Link>\n        <Link to='/profile' className='navbar-item'>\n          <i className='material-icons'>person_outline</i>\n        </Link>\n        <a className='navbar-item' onClick={handleLogout}>\n          <i className='material-icons has-text-danger'>logout</i>\n        </a>\n      </div>\n    </div>\n  )\n}\n","export default function Footer () {\n  return (\n    <footer className='footer'>\n      <div className='container is-fluid'>\n        <div className='content has-text-centered'>\n          <p>\n            <strong>Petgram</strong> by &nbsp;\n            <a href='https://rnovec.github.io'>Raúl Novelo</a>. The source code\n            is licensed &nbsp;\n            <a href='http://opensource.org/licenses/mit-license.php'>MIT</a>.\n            The website content is licensed &nbsp;\n            <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>\n              CC BY NC SA 4.0\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n","import React, { useContext, useEffect } from 'react'\nimport Navbar from '../components/Navbar'\nimport Footer from '../components/Footer'\nimport { AuthContext } from '../context/auth'\nimport '../css/index.css'\n\nexport default function Principal ({ children }) {\n  const { getUser } = useContext(AuthContext)\n  useEffect(() => {\n    getUser()\n  }, [])\n  return (\n    <>\n      <Navbar />\n      {children}\n      <Footer />\n    </>\n  )\n}\n","import request from '../util/axios'\n\nexport function getPosts () {\n  return request({\n    url: '/posts',\n    method: 'GET'\n  })\n}\n\nexport function createPost (data) {\n  return request({\n    url: '/posts',\n    method: 'POST',\n    headers: { 'Content-Type': 'multipart/form-data' },\n    data\n  })\n}\n\nexport function createComment (data) {\n  return request({\n    url: '/comments',\n    method: 'POST',\n    data\n  })\n}\n\nexport function getPostComments (id) {\n  return request({\n    url: `/posts/${id}/comments`,\n    method: 'GET'\n  })\n}\n\n\nexport function removePost (id) {\n  return request({\n    url: `/posts/${id}`,\n    method: 'DELETE'\n  })\n}\n","/**\n * Show plural label if time is plural number\n * @param {number} time\n * @param {string} label\n * @return {string}\n */\nfunction pluralize (time, label) {\n  if (time === 1) {\n    return time + label\n  }\n  return time + label + 's'\n}\n\n/**\n * Unused time ago filter\n * @param {number} time\n */\nexport function timeAgo (time) {\n  const between = Date.now() / 1000 - Number(time)\n  if (between < 3600) {\n    return pluralize(~~(between / 60), ' minute')\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), ' hour')\n  } else {\n    return pluralize(~~(between / 86400), ' day')\n  }\n}\n\n/**\n * Time since filter\n * @param {string} date \n */\nexport function timeSince (date) {\n  var seconds = Math.floor((new Date() - new Date(date)) / 1000)\n\n  var interval = seconds / 31536000\n\n  if (interval > 1) {\n    return Math.floor(interval) + ' years'\n  }\n  interval = seconds / 2592000\n  if (interval > 1) {\n    return Math.floor(interval) + ' months'\n  }\n  interval = seconds / 86400\n  if (interval > 1) {\n    return Math.floor(interval) + ' days'\n  }\n  interval = seconds / 3600\n  if (interval > 1) {\n    return Math.floor(interval) + ' hours'\n  }\n  interval = seconds / 60\n  if (interval > 1) {\n    return Math.floor(interval) + ' minutes'\n  }\n  return Math.floor(seconds) + ' seconds'\n}\n","import { useContext, useState } from 'react'\nimport { createComment } from '../api/posts'\nimport { AuthContext } from '../context/auth'\n\nexport default function AddComment ({ post_id, onComment }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [message, setMessage] = useState('')\n\n  function onChangeMessage (e) {\n    e.preventDefault()\n    setMessage(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    if (message.trim()) {\n      await createComment({\n        user_id: user.id,\n        post_id,\n        message\n      })\n      setMessage('')\n      onComment()\n    }\n  }\n\n  return (\n    <article className='media'>\n      <figure className='media-left'>\n        <p className='image is-48x48'>\n          <img className='is-rounded' src={user.picture || defaultAvatar} />\n        </p>\n      </figure>\n      <div className='media-content'>\n        <form onSubmit={onSubmit}>\n          <div className='field'>\n            <p className='control'>\n              <textarea\n                className='textarea'\n                rows='3'\n                onChange={onChangeMessage}\n                placeholder='Add a comment...'\n              ></textarea>\n            </p>\n          </div>\n          <div className='field'>\n            <p className='control'>\n              <button className='button is-primary is-fullwidth'>\n                Post comment\n              </button>\n            </p>\n          </div>\n        </form>\n      </div>\n    </article>\n  )\n}\n","import { useContext } from 'react'\nimport { AuthContext } from '../context/auth'\nimport { timeSince } from '../util/time'\n\n\nexport default function Comment({ comment }) {\n  const { defaultAvatar } = useContext(AuthContext)\n\n  return (\n    <article className='media'>\n      <figure className='media-left'>\n        <p className='image is-32x32'>\n          <img className='is-rounded' src={comment.user.picture || defaultAvatar} />\n        </p>\n      </figure>\n      <div className='media-content'>\n        <div className='content'>\n          <p>\n            <strong>{comment.user.fullname}</strong>\n            <br />\n            {comment.message}\n            <br />\n            <small className='has-text-grey'>\n              <a href=\"#add-comment\">Reply</a> · {timeSince(comment.created)} ago\n            </small>\n          </p>\n        </div>\n        {/* \n        <article className='media'>\n          Vivamus quis semper metus, non tincidunt dolor. Vivamus in mi eu lorem\n          cursus ullamcorper sit amet nec massa.\n        </article>\n\n        <article className='media'>\n          Morbi vitae diam et purus tincidunt porttitor vel vitae augue.\n          Praesent malesuada metus sed pharetra euismod. Cras tellus odio,\n          tincidunt iaculis diam non, porta aliquet tortor.\n        </article> */}\n      </div>\n    </article>\n  )\n}\n","import { useState } from 'react'\n\nexport function ConfirmDelete () {\n  const [showModal, setShowModal] = useState(false)\n  function toggleModal(e) {\n    e.preventDefault();\n    setShowModal(!showModal)\n  }\n  return (\n    <>\n      <a onClick={toggleModal} class='dropdown-item has-text-danger'>\n        Delete post\n      </a>\n      <div className={`modal ${showModal ? 'is-active' : ''}`}>\n        <div className='modal-background'></div>\n        <div className='modal-card'>\n          <header className='modal-card-head'>\n            <p className='modal-card-title'>Are you sure?</p>\n          </header>\n          <section class='modal-card-body'>\n            This action will <b>permanently destroy the post</b>.\n          </section>\n          <footer className='modal-card-foot has-text-left'>\n            <button className='button is-danger'>Remove</button>\n            <button className='button' onClick={toggleModal}>\n              Cancel\n            </button>\n          </footer>\n        </div>\n      </div>\n    </>\n  )\n}\n","import { useState } from 'react'\nimport { ConfirmDelete } from './ConfirmDelete'\n\nexport default function PostOptions () {\n  const [showOptions, setShowOptions] = useState(false)\n  function toggleOptions (e) {\n    e.preventDefault()\n    setShowOptions(!showOptions)\n  }\n  return (\n    <div class={`dropdown ${showOptions ? 'is-active' : ''} is-right`}>\n      <div class='dropdown-trigger'>\n        <a href='' onClick={toggleOptions}>\n          <i className='material-icons'>more_vert</i>\n        </a>\n      </div>\n      <div class='dropdown-menu' id='dropdown-menu3' role='menu'>\n        <div class='dropdown-content'>\n          <a href='#' class='dropdown-item'>\n            Edit\n          </a>\n          <a href='#' class='dropdown-item'>\n            Share\n          </a>\n          <hr class='dropdown-divider' />\n          <ConfirmDelete/>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useContext, useState } from 'react'\nimport { getPostComments } from '../api/posts'\nimport { AuthContext } from '../context/auth'\nimport { timeSince } from '../util/time'\nimport AddComment from './AddComment'\nimport Comment from './Comment'\nimport PostOptions from './PostOptions'\n\nexport default function Post ({ post }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [showComments, setShowComment] = useState(false)\n  const [comments, setComments] = useState([])\n  const [isLiked, setIsLiked] = useState(false)\n\n  async function toggleComments (e) {\n    const res = await getPostComments(post.uuid)\n    setComments(res.results)\n    setShowComment(!showComments)\n  }\n\n  function likeDislike (e) {\n    setIsLiked(!isLiked)\n    e.preventDefault()\n  }\n\n  return (\n    <div className='card'>\n      <div className='header'>\n        <div className='media'>\n          <div className='media-left'>\n            <figure className='image is-48x48'>\n              <img\n                className='is-rounded'\n                src={post.user.picture || defaultAvatar}\n                alt='Placeholder'\n              />\n            </figure>\n          </div>\n          <div className='media-content'>\n            <p className='title is-4'>{post.user.fullname}</p>\n            <p className='subtitle is-6'>@{post.user.username}</p>\n          </div>\n          {user.id === post.user.id && (\n            <div className='media-right'>\n              <PostOptions />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className='card-image'>\n        <figure className='image is-4by3'>\n          <img src={post.photo} alt='Placeholder' />\n        </figure>\n      </div>\n      <div className='card-content'>\n        <div className='level is-mobile'>\n          <div className='level-left'>\n            <div className='level-item has-text-centered'>\n              <a onClick={likeDislike}>\n                <i className='material-icons has-text-danger'>\n                  {isLiked ? 'favorite' : 'favorite_border'}\n                </i>\n              </a>\n            </div>\n            <div className='level-item has-text-centered'>\n              <div>\n                <a onClick={toggleComments}>\n                  <i className='material-icons'>chat_bubble_outline</i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='content'>\n          <strong>32 Likes</strong>\n          <br />\n          {post.description}\n          {/* <a>@bulmaio</a>.<a href='#'>#css</a>\n          <a href='#'>#responsive</a> */}\n          <br />\n          <time>{timeSince(post.created)}</time> ago\n        </div>\n        {showComments &&\n          comments.map(comment => (\n            <Comment key={comment.uuid} comment={comment} />\n          ))}\n      </div>\n\n      <div id=\"add-comment\" className='card-footer'>\n        <div className='column is-12'>\n          <AddComment post_id={post.uuid} onComment={toggleComments} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useState, useContext } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { createPost } from '../api/posts'\nimport { AuthContext } from '../context/auth'\n\nexport default function NewPost () {\n  const history = useHistory()\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [selectedFile, setSelectedFile] = useState(null)\n  const [filename, setFilename] = useState('')\n  const [description, setDescription] = useState('')\n  const [isLoading, setIsloading] = useState(false)\n\n  function handleChange (e) {\n    setSelectedFile(e.target.files[0])\n    setFilename(e.target.files[0].name.slice(0, 10))\n  }\n\n  function onDescriptionChange (e) {\n    setDescription(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    if (!user.picture) history.push('/profile')\n    if (filename && description) {\n      setIsloading(true)\n      const form_data = new FormData()\n      form_data.append('photo', selectedFile, selectedFile.name)\n      form_data.append('description', description)\n      form_data.append('user_id', user.id)\n      try {\n        await createPost(form_data)\n        setDescription('')\n        setSelectedFile({})\n        setFilename('')\n      } catch (error) {\n      } finally {\n        setIsloading(false)\n      }\n    }\n  }\n\n  return (\n    <div className='card'>\n      <header className='card-header'>\n        <p className='card-header-title'>\n          <span className='icon is-medium'>\n            <i className='fas fa-image' aria-hidden='true'></i>\n          </span>\n          Create a new post\n        </p>\n      </header>\n      <div className='card-content'>\n        <article className='media'>\n          <figure className='media-left image is-48x48'>\n            <img className='is-rounded' src={user.picture || defaultAvatar} />\n          </figure>\n          <div className='media-content'>\n            <div className='field'>\n              <p className={`control ${isLoading ? 'is-loading' : ''}`}>\n                <textarea\n                  className='textarea'\n                  onChange={onDescriptionChange}\n                  rows='3'\n                  placeholder='Add a description...'\n                ></textarea>\n              </p>\n            </div>\n          </div>\n        </article>\n        <div className='field'>\n          <div className='control'>\n            <input\n              id='photo'\n              accept=\"image/png, image/jpeg\"\n              className='file-input'\n              onChange={handleChange}\n              type='file'\n              name='resume'\n            />\n          </div>\n        </div>\n      </div>\n      <footer className='card-footer'>\n        <label htmlFor='photo' className='card-footer-item file-label'>\n          <i className='material-icons'>perm_media</i>&nbsp;\n          {filename ? filename + '...' : 'Add photo'}\n        </label>\n        {isLoading ? (\n          <a className='card-footer-item button is-white is-loading'>\n            <i className='material-icons'>send</i>&nbsp;Publish\n          </a>\n        ) : (\n          <a onClick={onSubmit} className='card-footer-item'>\n            <i className='material-icons'>send</i>&nbsp;Publish\n          </a>\n        )}\n      </footer>\n    </div>\n  )\n}\n","import React, { createContext, useState } from 'react'\nimport { getPosts } from '../api/posts'\n\nexport const PostContext = createContext()\n\nexport const PostContextProvider = ({ children }) => {\n  const [posts, setPosts] = useState([])\n\n  const getPostList = async () => {\n    const data = await getPosts()\n      setPosts(data.results)\n      Promise.resolve(data)\n  }\n\n  const contextValue = {\n    posts,\n    getPostList\n  }\n\n  // Global data with Context Provider\n  return (\n    <PostContext.Provider value={contextValue}>\n      {children}\n    </PostContext.Provider>\n  )\n}\n","import React, { useContext, useEffect } from 'react'\nimport Main from '../layouts/Main'\nimport Post from '../components/Post'\nimport NewPost from '../components/NewPost'\nimport { PostContext } from '../context/posts'\nimport '../css/index.css'\n\nexport default function Home () {\n  const { posts, getPostList } = useContext(PostContext)\n\n  useEffect(() => {\n    ;(async () => {\n      await getPostList()\n    })()\n  }, [])\n  return (\n    <Main>\n      <section className='section'>\n        <div className='columns body-columns'>\n          <div className='column is-half is-offset-one-quarter'>\n            <NewPost />\n            {posts.map((post, i) => (\n              <Post post={post} key={i} />\n            ))}\n          </div>\n        </div>\n      </section>\n    </Main>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { AuthContext } from '../context/auth'\nimport '../css/login.css'\n\nexport default function Login () {\n  const history = useHistory()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n\n  const { authenticate } = useContext(AuthContext)\n\n  function onChangeUsername (e) {\n    setUsername(e.target.value)\n  }\n\n  function onChangePassword (e) {\n    setPassword(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      await authenticate({ username, password })\n      history.push('/')\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <section className='hero is-fullheight'>\n      <div className='hero-body has-text-centered'>\n        <div className='login'>\n          <img src='https://logoipsum.com/logo/logo-12.svg' width='325px' />\n          <form onSubmit={onSubmit}>\n            <div className='field'>\n              <div className='control'>\n                <input\n                  className='input is-rounded'\n                  type='text'\n                  placeholder='Username'\n                  autoComplete='username'\n                  onChange={onChangeUsername}\n                  required\n                />\n              </div>\n            </div>\n            <div className='field'>\n              <div className='control'>\n                <input\n                  className='input is-rounded'\n                  type='password'\n                  placeholder='**********'\n                  onChange={onChangePassword}\n                  autoComplete='current-password'\n                  required\n                />\n              </div>\n            </div>\n            <div className='field'>\n              <label className='checkbox'>\n                <input type='checkbox' /> Remember me\n              </label>\n            </div>\n            <button\n              className={`button is-block is-fullwidth is-primary is-medium is-rounded ${\n                isLoading ? 'is-loading' : ''\n              }`}\n              type='submit'\n            >\n              Login\n            </button>\n          </form>\n          <br />\n          <nav className='level'>\n            <div className='level-item has-text-centered'>\n              <div>\n                <a href='#'>Forgot Password?</a>\n              </div>\n            </div>\n            <div className='level-item has-text-centered'>\n              <div>\n                <Link to='/register'>Create an Account</Link>\n              </div>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </section>\n  )\n}\n","export default function Input ({\n  type = 'text',\n  name,\n  autocomplete,\n  placeholder,\n  required = true,\n  ...props\n}) {\n  return (\n    <div className='field'>\n      <div className='control'>\n        <input\n          className='input is-rounded'\n          onChange={props.onChange}\n          name={name}\n          autoComplete={autocomplete}\n          type={type}\n          required={required}\n          placeholder={placeholder}\n        />\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\nimport { register } from '../api/users'\nimport Input from '../components/Input'\nimport '../css/register.css'\n\nexport default function Register () {\n  const history = useHistory()\n  const [isLoading, setIsLoading] = useState(false)\n  const [user, setUser] = useState({\n    username: '',\n    fullname: '',\n    email: '',\n    password: '',\n    password_confirm: ''\n  })\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setUser({ ...user, [attr]: val })\n  }\n\n  const onSubmit = async e => {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      await register(user)\n      history.push('/')\n    } catch (error) {\n      console.log(error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n  return (\n    <section className='section container'>\n      <div className='columns is-multiline'>\n        <div className='column is-8 is-offset-2 register '>\n          <div className='columns'>\n            <div className='column left is-hidden-mobile'>\n              <img src='https://logoipsum.com/logo/logo-12.svg' />\n              <h2 className='subtitle colored is-4'>\n                Lorem ipsum dolor sit amet.\n              </h2>\n              <p>\n                Lorem, ipsum dolor sit amet consectetur adipisicing elit.\n                Corporis ex deleniti aliquam tempora libero excepturi vero\n                soluta odio optio sed.\n              </p>\n            </div>\n            <div className='column right has-text-centered'>\n              <h1 className='title is-4'>Sign up today</h1>\n              <p className='description'>\n                Lorem ipsum dolor, sit amet consectetur adipisicing elit\n              </p>\n\n              <form onSubmit={onSubmit}>\n                <Input\n                  autocomplete='username'\n                  placeholder='Username'\n                  name='username'\n                  onChange={onChange}\n                />\n                <Input\n                  autocomplete='fullname'\n                  placeholder='Full name'\n                  name='fullname'\n                  onChange={onChange}\n                />\n                <Input\n                  autocomplete='email'\n                  type='email'\n                  placeholder='Email'\n                  name='email'\n                  onChange={onChange}\n                />\n                <Input\n                  autocomplete='password'\n                  type='password'\n                  placeholder='Password'\n                  name='password'\n                  onChange={onChange}\n                />\n                <Input\n                  autocomplete='password_confirm'\n                  type='password'\n                  placeholder='Confirm'\n                  name='password_confirm'\n                  onChange={onChange}\n                />\n                <button className={`button is-rounded is-block is-primary is-fullwidth ${isLoading ? 'is-loading' : ''}`}>\n                  Submit\n                </button>\n                <br />\n                <small>\n                  Already have an account? <Link to='/login'>Login</Link>\n                </small>\n              </form>\n            </div>\n          </div>\n        </div>\n        <div className='column is-8 is-offset-2'>\n          <br />\n          <nav className='level'>\n            <div className='level-left'>\n              <div className='level-item'>\n                <span className='icon'>\n                  <i className='fab fa-twitter'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fab fa-facebook'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fab fa-instagram'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fab fa-github'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fas fa-envelope'></i>\n                </span>\n              </div>\n            </div>\n            <div className='level-right'>\n              <small className='level-item'>\n                &copy; logoipsum. All Rights Reserved.\n              </small>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import Main from '../layouts/Main'\nimport { useContext } from 'react'\nimport { AuthContext } from '../context/auth'\nimport '../css/profile.css'\nimport '../css/profile-card.css'\n\nexport default function Profile ({ children }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n\n  return (\n    <section className='section container'>\n      <div className='columns'>\n        <div className='column is-4 '>\n          <aside className='menu'>\n            <ul className='menu-list'>\n              <div className='card box has-text-centered'>\n                <figure className='avatar'>\n                  <img width='200' src={user.picture || defaultAvatar} />\n                </figure>\n                <div className='media-content'>\n                  <p className='title is-4'>{user.fullname}</p>\n                  <p className='subtitle is-6'>@{user.username}</p>\n                  <ul className='has-text-left'>\n                    <li>\n                      <span className='icon'>\n                        <i className='fas fa-envelope' aria-hidden='true'></i>\n                      </span>\n                      &nbsp; {user.email}\n                    </li>\n                  </ul>\n                </div>\n                <br />\n                <footer className='card-footer'>\n                  <div className='card-footer-item'>\n                    <span className='icon'>\n                      <i className='fas fa-image'></i>&nbsp;0\n                    </span>\n                  </div>\n                  <div className='card-footer-item'>\n                    <span className='icon'>\n                      <i className='fas fa-heart'></i>&nbsp;0\n                    </span>\n                  </div>\n                </footer>\n              </div>\n            </ul>\n          </aside>\n        </div>\n        {children}\n      </div>\n    </section>\n  )\n}\n","import { timeSince } from '../util/time'\nimport PostOptions from './PostOptions'\n\nexport default function PostPreview ({ post }) {\n  return (\n    <article className='media box'>\n      <div className='media-left'>\n        <p className='image is-64x64'>\n          <img src={post.photo} />\n        </p>\n      </div>\n      <div className='media-content'>\n        <div className='content'>\n          <strong>{post.user.fullname}</strong> ·{' '}\n          <span>@{post.user.username}</span> ·{' '}\n          <small className='has-text-grey'>\n            <time>{timeSince(post.created)}</time> ago\n          </small>\n          <br />\n          {post.description}\n        </div>\n        <nav className='level is-mobile'>\n          <div className='level-left'>\n            &nbsp; &nbsp;\n            <a className='level-item'>\n              <span className='icon is-small'>\n                <i className='fas fa-comments'></i> 10\n              </span>\n            </a>\n            &nbsp; &nbsp;\n            <a className='level-item has-text-danger'>\n              <span className='icon is-small'>\n                <i className='fas fa-heart'></i> 1\n              </span>\n            </a>\n          </div>\n        </nav>\n      </div>\n      <div className='media-right'>\n        <PostOptions/>\n      </div>\n      <hr/>\n    </article>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { updateProfile } from '../api/users'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileForm () {\n  const { user, setUser } = useContext(AuthContext)\n  const [selectedFile, setSelectedFile] = useState({})\n  const [isLoading, setIsLoading] = useState(false)\n\n  const [form, setForm] = useState({\n    id: null,\n    picture: '',\n    address: '',\n    phone: ''\n  })\n\n  useEffect(() => {\n    setForm(user)\n    console.log(user)\n  }, [])\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setForm({ ...form, [attr]: val })\n  }\n\n  function onChangeFile (e) {\n    setSelectedFile(e.target.files[0])\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      const form_data = new FormData()\n      if (selectedFile.name)\n        form_data.append('picture', selectedFile, selectedFile.name)\n      form_data.append('email', user.email)\n      form_data.append('username', user.username)\n      form_data.append('address', form.address)\n      form_data.append('phone', form.phone)\n      const data = await updateProfile(user.id, form_data)\n      setUser(data)\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <h3>Profile</h3>\n\n      <div className='field is-horizontal'>\n        <div className='field-label'>\n          <label className='label'>Avatar</label>\n        </div>\n        <div className='field-body'>\n          <div className='file has-name'>\n            <label className='file-label'>\n              <input\n                className='file-input'\n                type='file'\n                name='resume'\n                onChange={onChangeFile}\n              />\n              <span className='file-cta'>\n                <span className='file-icon'>\n                  <i className='fas fa-upload'></i>\n                </span>\n                <span className='file-label'>Change avatar</span>\n              </span>\n              {selectedFile.name && (\n                <span className='file-name'>{selectedFile.name}</span>\n              )}\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Address</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <input\n                className='input'\n                type='text'\n                placeholder='Address'\n                name='address'\n                onChange={onChange}\n                value={form.address}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Phone</label>\n        </div>\n        <div className='field-body'>\n          <div className='field is-expanded'>\n            <div className='field has-addons'>\n              <p className='control'>\n                <a className='button is-static'>+52</a>\n              </p>\n              <p className='control is-expanded'>\n                <input\n                  className='input'\n                  type='tel'\n                  placeholder='Your phone number'\n                  name='phone'\n                  onChange={onChange}\n                  value={form.phone}\n                />\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label'></div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <button\n                className={`button is-primary ${isLoading ? 'is-loading' : ''}`}\n              >\n                Save changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileForm () {\n  const { user } = useContext(AuthContext)\n  const [form, setForm] = useState({\n    username: '',\n    fullname: '',\n    email: ''\n  })\n\n  useEffect(() => {\n    setForm(user)\n  }, [])\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setForm({ ...form, [attr]: val })\n  }\n\n  return (\n    <form>\n      <h3>Basic Info</h3>\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Account</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <p className='control is-expanded has-icons-left'>\n              <input\n                className='input'\n                type='text'\n                placeholder='Username'\n                name='username'\n                onChange={onChange}\n                value={form.username}\n              />\n              <span className='icon is-small is-left'>\n                <i className='fas fa-user'></i>\n              </span>\n            </p>\n          </div>\n          <div className='field'>\n            <p className='control is-expanded has-icons-left'>\n              <input\n                className='input is-success'\n                type='email'\n                placeholder='Email'\n                name='email'\n                onChange={onChange}\n                value={form.email}\n              />\n              <span className='icon is-small is-left'>\n                <i className='fas fa-envelope'></i>\n              </span>\n              {/* <span className='icon is-small is-right'>\n                <i className='fas fa-check'></i>\n              </span> */}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Fullname</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <p className='control is-expanded'>\n              <input\n                className='input'\n                type='text'\n                placeholder='First name'\n                name='fullname'\n                onChange={onChange}\n                value={form.fullname}\n              />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className='field is-horizontal'>\n        <div className='field-label'></div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <button className='button is-primary'>Save changes</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport Main from '../layouts/Main'\nimport Profile from '../layouts/Profile'\nimport PostPreview from '../components/PostPreview'\nimport ProfileForm from '../components/ProfileForm'\nimport AccountForm from '../components/AccountForm'\nimport '../css/profile.css'\nimport '../css/profile-card.css'\nimport { getUserPosts } from '../api/users'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileReview() {\n  const { user } = useContext(AuthContext)\n  const [isEdit, setIsEdit] = useState(false)\n  const [posts, setPosts] = useState([])\n  function toggleTab () {\n    setIsEdit(!isEdit)\n  }\n  useEffect(() => {\n    getUserPosts(user.id).then(res => {\n      setPosts(res.results)\n    })\n  }, user)\n  return (\n    <Main>\n      <br />\n      <Profile>\n        <div className='column is-8'>\n          <div className='tabs is-centered is-boxed is-medium'>\n            <ul>\n              <li className={`${!isEdit ? 'is-active' : ''}`}>\n                <a onClick={toggleTab}>\n                  <span className='icon is-small'>\n                    <i className='fas fa-image' aria-hidden='true'></i>\n                  </span>\n                  <span>Posts</span>\n                </a>\n              </li>\n              <li className={`${isEdit ? 'is-active' : ''}`}>\n                <a onClick={toggleTab}>\n                  <span className='icon is-small'>\n                    <i className='fas fa-cog' aria-hidden='true'></i>\n                  </span>\n                  <span>Edit Profile</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <div className='box content'>\n            {isEdit ? (\n              <>\n                <AccountForm />\n                <ProfileForm />\n              </>\n            ) : (\n              <>\n                {' '}\n                {!posts.length ? (\n                  <div className='notification is-link'>\n                    <article className='media'>\n                      <div className='media-left'>\n                        <span className='icon'>\n                          <i className='fas fa-sad-tear'></i>\n                        </span>\n                      </div>\n                      <div className='media-content'>\n                        Nothing's here…{' '}\n                        <strong>You do not have any post yet</strong>.\n                      </div>\n                      <div className='media-right'>\n                        {/* <button className='button is-small is-primary'>\n                          Dismiss\n                        </button> */}\n                      </div>\n                    </article>\n                  </div>\n                ) : (\n                  posts.map(post => <PostPreview key={post.uuid} post={post} />)\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </Profile>\n    </Main>\n  )\n}\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getToken } from '../util/auth'\n\nconst GuardedRoute = ({ component: Component, auth, ...rest }) => {\n  const token = getToken()\n\n  if (token) {\n    console.log(window.location.href)\n    return <Route {...rest} render={props => <Component {...props} />} />\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        auth ? <Component {...props} /> : <Redirect to='/login' />\n      }\n    />\n  )\n}\n\nexport default GuardedRoute\n","import React, { useContext } from 'react'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport Home from '../pages/Home'\nimport Login from '../pages/Login'\nimport Register from '../pages/Register'\nimport Profile from '../pages/Profile'\nimport { AuthContext } from '../context/auth'\nimport GuardedRoute from './GuardedRoute'\n\nexport default function App () {\n  const { isAuthenticated } = useContext(AuthContext)\n\n  return (\n    <Router>\n      <Switch>\n        <Route path='/register'>\n          <Register />\n        </Route>\n        <Route path='/login'>\n          <Login />\n        </Route>\n        <GuardedRoute\n          path='/profile'\n          component={Profile}\n          auth={isAuthenticated}\n        />\n        <GuardedRoute path='/' component={Home} auth={isAuthenticated} />\n      </Switch>\n    </Router>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './router'\nimport { AuthContextProvider } from './context/auth'\nimport { PostContextProvider } from './context/posts'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <PostContextProvider>\n        <App />\n      </PostContextProvider>\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}