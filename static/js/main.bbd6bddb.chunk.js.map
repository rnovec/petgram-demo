{"version":3,"sources":["util/auth.js","util/axios.js","api/users.js","context/auth.js","components/Navbar.jsx","components/Footer.jsx","layouts/Main.jsx","api/posts.js","util/time.js","components/CommentBox.jsx","components/Comment.jsx","context/posts.js","components/ConfirmDelete.jsx","components/PostContent.jsx","components/PostEdit.jsx","components/PostOptions.jsx","components/Post.jsx","components/PostCreate.jsx","hooks/useInifiniteScroll.js","pages/Home.jsx","components/Input.jsx","pages/Login.jsx","pages/Register.jsx","layouts/Profile.jsx","components/PostPreview.jsx","components/ProfileForm.jsx","components/AccountForm.jsx","pages/Profile.jsx","router/GuardedRoute.jsx","router/index.jsx","index.jsx"],"names":["TokenKey","RefreshKey","getToken","Cookies","get","setToken","token","set","decodeToken","jwtDecode","isNearbyToExpire","decoded","today","Date","exp","setUTCSeconds","diffMs","Math","round","_axios","axios","create","baseURL","mode","credentials","timeout","interceptors","request","use","config","a","public","headers","Authorization","url","match","refresh","method","data","access","response","res","error","Promise","reject","login","updateProfile","id","AuthContext","createContext","AuthContextProvider","children","useState","isAuthenticated","setIsAuthenticated","user","setUser","authenticate","resolve","getUser","contextValue","defaultAvatar","logout","remove","Provider","value","Navbar","history","useHistory","useContext","className","to","src","onClick","push","Footer","href","Main","useEffect","getPosts","params","postLike","createPost","updatePost","removePost","createComment","timeSince","date","seconds","floor","interval","CommentBox","post_id","props","message","setMessage","e","preventDefault","trim","user_id","onComment","picture","onSubmit","rows","onChange","target","placeholder","Comment","comment","fullname","created","PostContext","PostContextProvider","posts","setPosts","currentPost","setCurrentPost","getPostList","results","deletePost","filter","post","uuid","addPost","ConfirmDelete","showModal","setShowModal","isLoading","setIsLoading","toggleModal","PostContent","username","description","comments","length","likes","EditPostModal","selectedFile","setSelectedFile","filename","setFilename","setDescription","form_data","FormData","name","append","console","log","aria-label","photo","action","files","slice","type","PostOptions","showOptions","setShowOptions","role","Post","showComments","setShowComments","likeCont","setLikeCont","isLiked","setIsliked","setComments","indexOf","height","alt","map","newComment","NewPost","setIsloading","aria-hidden","accept","htmlFor","useInfiniteScroll","callback","isFetching","setIsFetching","handleScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","addEventListener","removeEventListener","Home","setPost","limit","offset","listQuery","setListQuery","query","Input","autocomplete","required","icon","isPassword","showPassword","setShowPassword","autoComplete","Login","setUsername","password","setPassword","width","Register","errors","setErrors","email","password_confirm","val","attr","Object","entries","Profile","PostPreview","ProfileForm","checked","setChecked","address","phone","form","setForm","class","ProfileReview","isEdit","setIsEdit","toggleTab","then","GuardedRoute","Component","component","auth","rest","render","App","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bbd6bddb.chunk.js","sourcesContent":["import Cookies from 'js-cookie'\nimport jwtDecode from 'jwt-decode'\n\nconst TokenKey = 'Access-Token'\nconst RefreshKey = 'Refresh-Token'\n\nexport function getToken () {\n  return Cookies.get(TokenKey)\n}\n\nexport function getRefreshToken () {\n  return Cookies.get(RefreshKey)\n}\n\nexport function setToken (token) {\n  Cookies.set(TokenKey, token)\n}\n\nexport function setRefreshToken (token) {\n  Cookies.set(RefreshKey, token)\n}\n\nexport function removeToken () {\n  Cookies.remove(TokenKey)\n}\n\nexport function removeRefreshToken () {\n  Cookies.remove(RefreshKey)\n}\n\nexport function decodeToken (token) {\n  return jwtDecode(token)\n}\n\nexport function isNearbyToExpire(token) {\n  const decoded = decodeToken(token)\n  const today = new Date()\n  const exp = new Date(0)\n  exp.setUTCSeconds(decoded.exp)\n  const diffMs = exp - today\n  const diffMins = Math.round(((diffMs % 86400000) % 3600000) / 60000) // minutes\n  return diffMins < 15\n}\n\n","import axios from 'axios'\nimport { refreshToken } from '../api/users'\nimport { getToken, isNearbyToExpire, getRefreshToken, setToken } from './auth'\n\n// create singleton for axios\nconst _axios = axios.create({\n  baseURL:\n    process.env.NODE_ENV === 'development'\n      ? 'http://localhost:8000/api/v1'\n      : 'https://petgram-demo.herokuapp.com/api/v1',\n  mode: 'cors',\n  credentials: 'same-origin',\n  timeout: 20000\n})\n\n_axios.interceptors.request.use(async config => {\n  const token = getToken()\n  if (!config.public) {\n    config.headers.Authorization = 'Bearer ' + token\n\n    if (isNearbyToExpire(token) && !config.url.match(/refresh/)) {\n      const refresh = getRefreshToken()\n      config.headers.Authorization = 'Bearer ' + token\n      const res = await refreshToken({ refresh })\n      setToken(res.access)\n    }\n  }\n  return config\n})\n\n// response interceptor\n_axios.interceptors.response.use(\n  res => {\n    return res.data\n  },\n  error => {\n    return Promise.reject(error.response.data)\n  }\n)\n\nexport default _axios\n","import request from '../util/axios'\n\nexport function login (data) {\n  return request({\n    url: '/token/access/',\n    method: 'POST',\n    public: true,\n    data\n  })\n}\n\nexport function refreshToken (data) {\n  return request({\n    url: '/token/refresh/',\n    method: 'POST',\n    data\n  })\n}\n\n\nexport function register (data) {\n  return request({\n    url: '/accounts/register/',\n    method: 'POST',\n    public: true,\n    data\n  })\n}\n\nexport function getUserInfo (id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'GET'\n  })\n}\n\nexport function updateProfile (id, data, headers = {}) {\n  return request({\n    url: `/users/${id}`,\n    headers,\n    method: 'PUT',\n    data\n  })\n}\n\nexport function removePicture (id) {\n  return request({\n    url: `/users/${id}/picture`,\n    method: 'PATCH'\n  })\n}\n\nexport function getUserPosts (id) {\n  return request({\n    url: `/users/${id}/posts`,\n    method: 'GET'\n  })\n}\n","import React, { createContext, useState } from 'react'\nimport { login, getUserInfo, refreshToken } from '../api/users'\nimport {\n  decodeToken,\n  getToken,\n  removeRefreshToken,\n  removeToken,\n  setRefreshToken,\n  setToken\n} from '../util/auth'\n\nexport const AuthContext = createContext()\n\nexport const AuthContextProvider = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [user, setUser] = useState({})\n  const defaultAvatar =\n    'https://cooplaaurora.com/resources/members/default-user.jpg'\n\n  const authenticate = async data => {\n    const res = await login(data)\n    setToken(res.access)\n    setRefreshToken(res.refresh)\n    setIsAuthenticated(true)\n    Promise.resolve(res)\n  }\n\n  const logout = () => {\n    removeToken()\n    removeRefreshToken()\n    setIsAuthenticated(false)\n    setUser({})\n  }\n\n  const getUser = async () => {\n    const token = getToken()\n    const data = decodeToken(token)\n    const user = await getUserInfo(data.id)\n    setUser(user)\n    Promise.resolve(user)\n  }\n\n  const contextValue = {\n    user,\n    isAuthenticated,\n    defaultAvatar,\n    getUser,\n    setUser,\n    setIsAuthenticated,\n    authenticate,\n    logout\n  }\n\n  // Global data with Context Provider\n  return (\n    <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\n  )\n}\n","import { useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { AuthContext } from '../context/auth'\n\nexport default function Navbar () {\n  const history = useHistory()\n  const { user, logout } = useContext(AuthContext)\n\n  function handleLogout () {\n    logout()\n    history.push('/login')\n  }\n  return (\n    <div className='navbar is-inline-flex is-transparent'>\n      <div className='navbar-brand'>\n        <Link to='/' className='navbar-item'>\n          <img src='/petgram-demo/img/logo.png' />\n        </Link>\n      </div>\n      <div className='navbar-menu'>\n        <div className='navbar-item'>\n          {/* <div className='control has-icons-left'>\n            <input\n              className='input is-rounded is-small has-text-centered'\n              type='text'\n              placeholder='search'\n            />\n            <span className='icon is-left is-small'>\n              <i className='material-icons'>search</i>\n            </span>\n          </div> */}\n        </div>\n      </div>\n      <div className='navbar-item is-flex-touch'>\n        <Link className='navbar-item' to='/'>\n          <i className='material-icons'>home</i>\n        </Link>\n        <Link to={'/profile/' + user.id} className='navbar-item'>\n          <i className='material-icons'>person_outline</i>\n        </Link>\n        <a className='navbar-item' onClick={handleLogout}>\n          <i className='material-icons has-text-danger'>logout</i>\n        </a>\n      </div>\n    </div>\n  )\n}\n","export default function Footer () {\n  return (\n    <footer className='footer'>\n      <div className='container is-fluid'>\n        <div className='content has-text-centered'>\n          <p>\n            <strong>Petgram</strong> by &nbsp;\n            <a href='https://rnovec.github.io'>Raúl Novelo</a>. The source code\n            is licensed &nbsp;\n            <a href='http://opensource.org/licenses/mit-license.php'>MIT</a>.\n            The website content is licensed &nbsp;\n            <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>\n              CC BY NC SA 4.0\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n","import React, { useContext, useEffect } from 'react'\nimport Navbar from '../components/Navbar'\nimport Footer from '../components/Footer'\nimport { AuthContext } from '../context/auth'\nimport '../css/index.css'\n\nexport default function Main ({ children }) {\n  const { getUser } = useContext(AuthContext)\n  useEffect(() => {\n    getUser()\n  }, [])\n  return (\n    <>\n      <Navbar />\n      {children}\n      <Footer />\n    </>\n  )\n}\n","import request from '../util/axios'\n\nexport function getPosts (params) {\n  return request({\n    url: '/posts',\n    method: 'GET',\n    params\n  })\n}\n\nexport function getPostComments (id) {\n  return request({\n    url: `/posts/${id}/comments`,\n    method: 'GET'\n  })\n}\n\nexport function postLike (id, data) {\n  return request({\n    url: `/posts/${id}/likes`,\n    method: 'PUT',\n    data\n  })\n}\n\nexport function createPost (data) {\n  return request({\n    url: '/posts',\n    method: 'POST',\n    headers: { 'Content-Type': 'multipart/form-data' },\n    data\n  })\n}\n\nexport function updatePost (id, data, headers) {\n  return request({\n    url: `/posts/${id}`,\n    method: 'PUT',\n    headers,\n    data\n  })\n}\n\n\nexport function removePost (id) {\n  return request({\n    url: `/posts/${id}`,\n    method: 'DELETE'\n  })\n}\n\nexport function createComment (data) {\n  return request({\n    url: '/comments',\n    method: 'POST',\n    data\n  })\n}\n","/**\n * Show plural label if time is plural number\n * @param {number} time\n * @param {string} label\n * @return {string}\n */\nfunction pluralize (time, label) {\n  if (time === 1) {\n    return time + label\n  }\n  return time + label + 's'\n}\n\n/**\n * Unused time ago filter\n * @param {number} time\n */\nexport function timeAgo (time) {\n  const between = Date.now() / 1000 - Number(time)\n  if (between < 3600) {\n    return pluralize(~~(between / 60), ' minute')\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), ' hour')\n  } else {\n    return pluralize(~~(between / 86400), ' day')\n  }\n}\n\n/**\n * Time since filter\n * @param {string} date \n */\nexport function timeSince (date) {\n  var seconds = Math.floor((new Date() - new Date(date)) / 1000)\n\n  var interval = seconds / 31536000\n\n  if (interval > 1) {\n    return Math.floor(interval) + ' years'\n  }\n  interval = seconds / 2592000\n  if (interval > 1) {\n    return Math.floor(interval) + ' months'\n  }\n  interval = seconds / 86400\n  if (interval > 1) {\n    return Math.floor(interval) + ' days'\n  }\n  interval = seconds / 3600\n  if (interval > 1) {\n    return Math.floor(interval) + ' hours'\n  }\n  interval = seconds / 60\n  if (interval > 1) {\n    return Math.floor(interval) + ' minutes'\n  }\n  return Math.floor(seconds) + ' seconds'\n}\n","import { useContext, useState } from 'react'\nimport { createComment } from '../api/posts'\nimport { AuthContext } from '../context/auth'\n\nexport default function CommentBox ({ post_id, ...props }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [message, setMessage] = useState('')\n\n  function onChangeMessage (e) {\n    e.preventDefault()\n    setMessage(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    if (message.trim()) {\n      const data = await createComment({\n        user_id: user.id,\n        post_id,\n        message\n      })\n      setMessage('')\n      props.onComment(data)\n    }\n  }\n\n  return (\n    <article className='media'>\n      <figure className='media-left'>\n        <p className='image is-48x48'>\n          <img className='is-rounded' src={user.picture || defaultAvatar} />\n        </p>\n      </figure>\n      <div className='media-content'>\n        <form onSubmit={onSubmit}>\n          <div className='field'>\n            <p className='control'>\n              <textarea\n                className='textarea'\n                rows='3'\n                value={message}\n                onChange={onChangeMessage}\n                placeholder='Add a comment...'\n              ></textarea>\n            </p>\n          </div>\n          <div className='field'>\n            <p className='control'>\n              <button className='button is-primary is-fullwidth'>\n                Post comment\n              </button>\n            </p>\n          </div>\n        </form>\n      </div>\n    </article>\n  )\n}\n","import { useContext } from 'react'\nimport { AuthContext } from '../context/auth'\nimport { timeSince } from '../util/time'\n\n\nexport default function Comment({ comment }) {\n  const { defaultAvatar } = useContext(AuthContext)\n\n  return (\n    <article className='media'>\n      <figure className='media-left'>\n        <p className='image is-32x32'>\n          <img className='is-rounded' src={comment.user.picture || defaultAvatar} />\n        </p>\n      </figure>\n      <div className='media-content'>\n        <div className='content'>\n          <p>\n            <strong>{comment.user.fullname}</strong>\n            <br />\n            {comment.message}\n            <br />\n            <small className='has-text-grey'>\n              <a href=\"#add-comment\">Reply</a> · {timeSince(comment.created)} ago\n            </small>\n          </p>\n        </div>\n        {/* \n        <article className='media'>\n          Vivamus quis semper metus, non tincidunt dolor. Vivamus in mi eu lorem\n          cursus ullamcorper sit amet nec massa.\n        </article>\n\n        <article className='media'>\n          Morbi vitae diam et purus tincidunt porttitor vel vitae augue.\n          Praesent malesuada metus sed pharetra euismod. Cras tellus odio,\n          tincidunt iaculis diam non, porta aliquet tortor.\n        </article> */}\n      </div>\n    </article>\n  )\n}\n","import React, { createContext, useState } from 'react'\nimport { getPosts, removePost } from '../api/posts'\n\nexport const PostContext = createContext()\n\nexport const PostContextProvider = ({ children }) => {\n  const [posts, setPosts] = useState([])\n  const [currentPost, setCurrentPost] = useState({})\n\n  const getPostList = async (params = {}) => {\n    const data = await getPosts(params)\n    setPosts([...posts, ...data.results])\n  }\n\n  const deletePost = async id => {\n    await removePost(id)\n    setPosts(posts.filter(post => post.uuid !== id))\n  }\n\n  const addPost = (post) => {\n    setPosts([post, ...posts])\n  }\n\n  const contextValue = {\n    posts,\n    currentPost,\n    setCurrentPost,\n    setPosts,\n    getPostList,\n    addPost,\n    deletePost\n  }\n\n  // Global data with Context Provider\n  return (\n    <PostContext.Provider value={contextValue}>{children}</PostContext.Provider>\n  )\n}\n","import { useContext, useState } from 'react'\nimport { PostContext } from '../context/posts'\n\nexport default function ConfirmDelete ({ post_id }) {\n  const { deletePost } = useContext(PostContext)\n  const [showModal, setShowModal] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n\n  function toggleModal (e) {\n    e.preventDefault()\n    setShowModal(!showModal)\n  }\n  async function onDeletePost () {\n    setIsLoading(true)\n    await deletePost(post_id)\n    setShowModal(false)\n    setIsLoading(false)\n  }\n  return (\n    <>\n      <a onClick={toggleModal} className='dropdown-item has-text-danger'>\n        Delete post\n      </a>\n      <div className={`modal ${showModal ? 'is-active' : ''}`}>\n        <div className='modal-background'></div>\n        <div className='modal-card'>\n          <header className='modal-card-head'>\n            <p className='modal-card-title'>Are you sure?</p>\n          </header>\n          <section className='modal-card-body'>\n            This action will <b>permanently destroy the post</b>.\n          </section>\n          <footer className='modal-card-foot has-text-left'>\n            <button\n              className={`button is-danger ${isLoading ? 'is-loading' : ''}`}\n              onClick={onDeletePost}\n            >\n              Yes, I'm sure\n            </button>\n            <button className='button' onClick={toggleModal}>\n              No, take me back\n            </button>\n          </footer>\n        </div>\n      </div>\n    </>\n  )\n}\n","import { timeSince } from '../util/time'\n\nexport default function PostContent ({ post }) {\n  return (\n    <div className='media-content'>\n      <div className='content'>\n        <strong>{post.user.fullname}</strong> ·{' '}\n        <span>@{post.user.username}</span> ·{' '}\n        <small className='has-text-grey'>\n          <time>{timeSince(post.created)}</time> ago\n        </small>\n        <br />\n        {post.description}\n      </div>\n      <nav className='level is-mobile'>\n        <div className='level-left'>\n          &nbsp; &nbsp;\n          <a className='level-item'>\n            {post.comments.length} &nbsp;\n            <span className='icon is-small'>\n              <i className='fas fa-comments'></i>\n            </span>\n          </a>\n          &nbsp; &nbsp;\n          <a className='level-item has-text-danger'>\n            <span className='icon is-small'>\n              {post.likes.length}&nbsp;<i className='fas fa-heart'></i>\n            </span>\n          </a>\n        </div>\n      </nav>\n    </div>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { updatePost } from '../api/posts'\nimport { PostContext } from '../context/posts'\nimport PostContent from './PostContent'\n\nexport default function EditPostModal ({ post }) {\n  const [selectedFile, setSelectedFile] = useState({})\n  const [isLoading, setIsLoading] = useState(false)\n  const [filename, setFilename] = useState('')\n  const [description, setDescription] = useState('')\n  const { currentPost, setCurrentPost } = useContext(PostContext)\n\n  useEffect(() => {\n    setDescription(currentPost.description)\n  }, [currentPost])\n\n\n  function onFileChange (e) {\n    if (e.target.files[0]) {\n      setSelectedFile(e.target.files[0])\n      setFilename(e.target.files[0].name.slice(0, 10))\n    }\n  }\n\n  function onChange (e) {\n    setDescription(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      const form_data = new FormData()\n      if (selectedFile.name)\n        form_data.append('photo', selectedFile, selectedFile.name)\n      form_data.append('description', description)\n      const data = await updatePost(post.uuid, form_data, {\n        'Content-Type': 'multipart/form-data'\n      })\n      setSelectedFile({})\n      setFilename('')\n      setCurrentPost(data)\n      console.log(data)\n    } catch (error) {\n      console.log(error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <>\n      {' '}\n      <div className={`modal ${currentPost.uuid ? 'is-active' : ''}`}>\n        <div className='modal-background'></div>\n        <div className='modal-card'>\n          <header className='modal-card-head'>\n            <p className='modal-card-title'>Edit Post</p>\n            <button\n              className='delete'\n              aria-label='close'\n              onClick={() => setCurrentPost({})}\n            ></button>\n          </header>\n          <section className='modal-card-body'>\n            <article className='media'>\n              <figure className='media-left'>\n                <img className='image is-128x128' src={currentPost.photo} />\n              </figure>\n              <PostContent post={currentPost} />\n            </article>\n            <form action=''>\n              <div className='field'>\n                <label className='label'>Description</label>\n                <div className='control'>\n                  <textarea\n                    className='textarea'\n                    placeholder='...'\n                    onChange={onChange}\n                    value={description}\n                  ></textarea>\n                </div>\n              </div>\n              <div className='field'>\n                <div className='file has-name'>\n                  <label className='file-label'>\n                    <input\n                      className='file-input'\n                      onChange={onFileChange}\n                      type='file'\n                      name='resume'\n                    />\n                    <span className='file-cta'>\n                      <span className='file-icon'>\n                        <i className='fas fa-upload'></i>\n                      </span>\n                      <span className='file-label'>Change photo</span>\n                    </span>\n                    {filename && <span className='file-name'>{filename}</span>}\n                  </label>\n                </div>\n              </div>\n            </form>\n          </section>\n          <footer className='modal-card-foot'>\n            <button\n              className={`button is-primary ${isLoading ? 'is-loading' : ''}`}\n              onClick={onSubmit}\n            >\n              Save changes\n            </button>\n            <button className='button' onClick={() => setCurrentPost({})}>\n              Cancel\n            </button>\n          </footer>\n        </div>\n      </div>\n    </>\n  )\n}\n","import { useContext, useState } from 'react'\nimport { PostContext } from '../context/posts'\nimport ConfirmDelete from './ConfirmDelete'\nimport PostEdit from './PostEdit'\n\nexport default function PostOptions ({ post }) {\n  const [showOptions, setShowOptions] = useState(false)\n  const { currentPost, setCurrentPost } = useContext(PostContext)\n  function toggleOptions (e) {\n    e.preventDefault()\n    setShowOptions(!showOptions)\n  }\n  return (\n    <div className={`dropdown ${showOptions ? 'is-active' : ''} is-right`}>\n      <div className='dropdown-trigger'>\n        <a href='' onClick={toggleOptions}>\n          <i className='material-icons'>more_vert</i>\n        </a>\n      </div>\n      <div className='dropdown-menu' id='dropdown-menu3' role='menu'>\n        <div className='dropdown-content'>\n          <a onClick={() => setCurrentPost(post)} className='dropdown-item'>\n            Edit\n          </a>\n          {currentPost.uuid && <PostEdit post={post} />}\n          <hr className='dropdown-divider' />\n          <ConfirmDelete post_id={post.uuid} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { getPostComments, postLike } from '../api/posts'\nimport { AuthContext } from '../context/auth'\nimport { timeSince } from '../util/time'\nimport AddComment from './CommentBox'\nimport Comment from './Comment'\nimport PostOptions from './PostOptions'\n\nexport default function Post ({ post }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [showComments, setShowComments] = useState(false)\n  const [likeCont, setLikeCont] = useState(0)\n  const [isLiked, setIsliked] = useState(false)\n  const [comments, setComments] = useState([])\n\n  useEffect(() => {\n    setLikeCont(post.likes.length)\n    if (post.likes.indexOf(user.id) !== -1) setIsliked(true)\n    ;(async () => {\n      const res = await getPostComments(post.uuid)\n      setComments(res.results)\n    })()\n  }, [showComments])\n\n  function onComment (newComment) {\n    setComments([...comments, newComment])\n    setShowComments(true)\n  }\n\n  async function likeDislike (e) {\n    e.preventDefault()\n    if (!isLiked) {\n      await postLike(post.uuid, {\n        user: user.id,\n        action: 'liked'\n      })\n      setLikeCont(likeCont + 1)\n      setIsliked(true)\n    } else {\n      await postLike(post.uuid, {\n        user: user.id,\n        action: 'dislike'\n      })\n      setLikeCont(likeCont - 1)\n      setIsliked(false)\n    }\n  }\n\n  return (\n    <div className='card'>\n      <div className='header'>\n        <div className='media'>\n          <div className='media-left'>\n            <figure className='image is-48x48 '>\n              <img\n                className='is-rounded'\n                height='0'\n                src={post.user.picture || defaultAvatar}\n                alt='Placeholder'\n              />\n            </figure>\n          </div>\n          <div className='media-content'>\n            <p className='title is-4'>{post.user.fullname}</p>\n            <p className='subtitle is-6'>@{post.user.username}</p>\n          </div>\n          {user.id === post.user.id && (\n            <div className='media-right'>\n              <PostOptions post={post} />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className='card-image'>\n        <figure className='image is-4by3'>\n          <img src={post.photo} alt='Placeholder' />\n        </figure>\n      </div>\n      <div className='card-content'>\n        <div className='level is-mobile'>\n          <div className='level-left'>\n            <div className='level-item has-text-centered'>\n              <a onClick={likeDislike}>\n                <i className='material-icons has-text-danger'>\n                  {isLiked ? 'favorite' : 'favorite_border'}\n                </i>\n              </a>\n            </div>\n            <div className='level-item has-text-centered'>\n              <div>\n                {showComments ? (\n                  <a onClick={() => setShowComments(false)}>\n                    <i className='material-icons'>chat_bubble</i>\n                  </a>\n                ) : (\n                  <a onClick={() => setShowComments(true)}>\n                    <i className='material-icons'>chat_bubble_outline</i>\n                  </a>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='content'>\n          <strong>{likeCont} Likes</strong>\n          <br />\n          {post.description}\n          {/* <a>@bulmaio</a>.<a href='#'>#css</a>\n          <a href='#'>#responsive</a> */}\n          <br />\n          <time>{timeSince(post.created)}</time> ago\n        </div>\n        {showComments &&\n          comments.map(comment => (\n            <Comment key={comment.uuid} comment={comment} />\n          ))}\n      </div>\n\n      <div id='add-comment' className='card-footer'>\n        <div className='column is-12'>\n          <AddComment post_id={post.uuid} onComment={onComment} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useState, useContext } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { createPost } from '../api/posts'\nimport { AuthContext } from '../context/auth'\nimport { PostContext } from '../context/posts'\n\nexport default function NewPost () {\n  const history = useHistory()\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const { addPost } = useContext(PostContext)\n  const [selectedFile, setSelectedFile] = useState(null)\n  const [filename, setFilename] = useState('')\n  const [description, setDescription] = useState('')\n  const [isLoading, setIsloading] = useState(false)\n\n  function handleChange (e) {\n    setSelectedFile(e.target.files[0])\n    setFilename(e.target.files[0].name.slice(0, 10))\n  }\n\n  function onDescriptionChange (e) {\n    setDescription(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    if (!user.picture) history.push('/profile')\n    if (filename && description) {\n      setIsloading(true)\n      const form_data = new FormData()\n      form_data.append('photo', selectedFile, selectedFile.name)\n      form_data.append('description', description)\n      form_data.append('user_id', user.id)\n      try {\n        const data = await createPost(form_data)\n        addPost(data)\n        setDescription('')\n        setSelectedFile({})\n        setFilename('')\n      } catch (error) {\n      } finally {\n        setIsloading(false)\n      }\n    }\n  }\n\n  return (\n    <div className='card'>\n      <header className='card-header'>\n        <p className='card-header-title'>\n          <span className='icon is-medium'>\n            <i className='fas fa-image' aria-hidden='true'></i>\n          </span>\n          Create a new post\n        </p>\n      </header>\n      <div className='card-content'>\n        <article className='media'>\n          <figure className='media-left image is-48x48'>\n            <img className='is-rounded' src={user.picture || defaultAvatar} />\n          </figure>\n          <div className='media-content'>\n            <div className='field'>\n              <p className={`control ${isLoading ? 'is-loading' : ''}`}>\n                <textarea\n                  className='textarea'\n                  onChange={onDescriptionChange}\n                  rows='3'\n                  placeholder='Add a description...'\n                ></textarea>\n              </p>\n            </div>\n          </div>\n        </article>\n        <div className='field'>\n          <div className='control'>\n            <input\n              id='photo'\n              accept=\"image/png, image/jpeg\"\n              className='file-input'\n              onChange={handleChange}\n              type='file'\n              name='resume'\n            />\n          </div>\n        </div>\n      </div>\n      <footer className='card-footer'>\n        <label htmlFor='photo' className='card-footer-item file-label'>\n          <i className='material-icons'>perm_media</i>&nbsp;\n          {filename ? filename + '...' : 'Add photo'}\n        </label>\n        {isLoading ? (\n          <a className='card-footer-item button is-white is-loading'>\n            <i className='material-icons'>send</i>&nbsp;Publish\n          </a>\n        ) : (\n          <a onClick={onSubmit} className='card-footer-item'>\n            <i className='material-icons'>send</i>&nbsp;Publish\n          </a>\n        )}\n      </footer>\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\n\nconst useInfiniteScroll = callback => {\n  const [isFetching, setIsFetching] = useState(false)\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll)\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n\n  useEffect(() => {\n    if (!isFetching) return\n    callback(() => {\n      console.log('called back')\n    })\n  }, [isFetching])\n\n  function handleScroll () {\n    if (\n      window.innerHeight + document.documentElement.scrollTop !==\n        document.documentElement.offsetHeight ||\n      isFetching\n    )\n      return\n    setIsFetching(true)\n  }\n\n  return [isFetching, setIsFetching]\n}\n\nexport default useInfiniteScroll\n","import React, { useContext, useEffect, useState } from 'react'\nimport Main from '../layouts/Main'\nimport Post from '../components/Post'\nimport PostCreate from '../components/PostCreate'\nimport { PostContext } from '../context/posts'\nimport '../css/index.css'\nimport useInfiniteScroll from '../hooks/useInifiniteScroll'\n\nexport default function Home () {\n  const { posts, currentPost, getPostList, setPost } = useContext(PostContext)\n  const [isFetching, setIsFetching] = useInfiniteScroll(fetchMoreListItems)\n  const [listQuery, setListQuery] = useState({\n    limit: 5,\n    offset: 0\n  })\n\n  async function fetchMoreListItems () {\n    setIsFetching(true)\n    setListQuery(query => ({\n      limit: query.limit,\n      offset: query.offset + query.limit\n    }))\n    await getPostList(listQuery)\n    setIsFetching(false)\n  }\n\n  return (\n    <Main>\n      <section className='section'>\n        <div className='columns body-columns'>\n          <div className='column is-half is-offset-one-quarter'>\n            <PostCreate />\n            {posts.map(post => (\n              <Post post={post} key={post.uuid} />\n            ))}\n            {isFetching && 'Fetching more list items...'}\n          </div>\n        </div>\n      </section>\n    </Main>\n  )\n}\n","import { useState } from 'react'\n\nexport default function Input ({\n  type = 'text',\n  name,\n  autocomplete,\n  placeholder,\n  value,\n  required,\n  icon,\n  isPassword,\n  ...props\n}) {\n  const [showPassword, setShowPassword] = useState(false)\n\n  function togglePassword () {\n    setShowPassword(!showPassword)\n  }\n\n  return (\n    <div className='field'>\n      <div\n        className={`control ${icon ? 'has-icons-left' : ''} has-icons-right`}\n      >\n        <input\n          className='input is-rounded'\n          onChange={props.onChange}\n          name={name}\n          autoComplete={autocomplete}\n          value={value}\n          type={isPassword && showPassword ? 'text' : type}\n          required={!!required}\n          placeholder={placeholder}\n        />\n        {icon && (\n          <span className='icon is-small is-left'>\n            <i className='material-icons'>{icon}</i>\n          </span>\n        )}\n        {isPassword && (\n          <span\n            className='icon is-small is-right is-clickable'\n            onClick={togglePassword}\n          >\n            <i className='material-icons'>\n              {showPassword ? 'visibility' : 'visibility_off'}\n            </i>\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport Input from '../components/Input'\nimport { AuthContext } from '../context/auth'\nimport '../css/login.css'\n\nexport default function Login () {\n  const history = useHistory()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const { authenticate } = useContext(AuthContext)\n\n  function onChangeUsername (e) {\n    setUsername(e.target.value)\n  }\n\n  function onChangePassword (e) {\n    setPassword(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      await authenticate({ username, password })\n      history.push('/')\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <section className='hero is-fullheight'>\n      <div className='hero-body has-text-centered'>\n        <div className='login'>\n          <img\n            src='https://logoipsum.com/logo/logo-12.svg'\n            alt='login-logo'\n            width='325px'\n          />\n          <form onSubmit={onSubmit}>\n            <Input\n              className='input is-rounded'\n              type='text'\n              placeholder='Username'\n              autoComplete='username'\n              icon='email'\n              onChange={onChangeUsername}\n              required\n            />\n            <Input\n              autocomplete='password'\n              type='password'\n              placeholder='Password'\n              name='password'\n              icon='lock'\n              isPassword\n              onChange={onChangePassword}\n              required\n            />{' '}\n            <div className='field'>\n              <label className='checkbox'>\n                <input type='checkbox' /> Remember me\n              </label>\n            </div>\n            <button\n              className={`button is-block is-fullwidth is-primary is-medium is-rounded ${\n                isLoading ? 'is-loading' : ''\n              }`}\n              type='submit'\n            >\n              Login\n            </button>\n          </form>\n          <br />\n          <nav className='level'>\n            {/* <div className='level-item has-text-centered'>\n              <div>\n                <a>Forgot Password?</a>\n              </div>\n            </div> */}\n            <div className='level-item has-text-centered'>\n              <div>\n                <Link to='/register'>Create an Account</Link>\n              </div>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import React, { useContext, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\nimport { register } from '../api/users'\nimport Input from '../components/Input'\nimport { AuthContext } from '../context/auth'\nimport '../css/register.css'\n\nexport default function Register () {\n  const history = useHistory()\n  const { authenticate } = useContext(AuthContext)\n  const [isLoading, setIsLoading] = useState(false)\n  const [errors, setErrors] = useState([])\n  const [user, setUser] = useState({\n    username: 'rnovec',\n    fullname: 'Raul Novelo',\n    email: 'example@example.com',\n    password: '(08642)!2a',\n    password_confirm: '(08642)!2a'\n  })\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setUser({ ...user, [attr]: val })\n  }\n\n  const onSubmit = async e => {\n    e.preventDefault()\n    setIsLoading(true)\n    setErrors([])\n    try {\n      const { username, password } = user\n      await register(user)\n      await authenticate({ username, password })\n      history.push('/')\n    } catch (error) {\n      setErrors(Object.entries(error))\n    } finally {\n      setIsLoading(false)\n    }\n  }\n  return (\n    <section className='section container'>\n      <div className='columns is-multiline'>\n        <div className='column is-8 is-offset-2 register '>\n          <div className='columns'>\n            <div className='column left is-hidden-mobile'>\n              <img src='https://logoipsum.com/logo/logo-12.svg' />\n              <h2 className='subtitle colored is-4'>\n                Lorem ipsum dolor sit amet.\n              </h2>\n              <p>\n                Lorem, ipsum dolor sit amet consectetur adipisicing elit.\n                Corporis ex deleniti aliquam tempora libero excepturi vero\n                soluta odio optio sed.\n              </p>\n            </div>\n            <div className='column right has-text-centered'>\n              <h1 className='title is-4'>Sign up today</h1>\n              <p className='description'>\n                Lorem ipsum dolor, sit amet consectetur adipisicing elit\n              </p>\n\n              <form onSubmit={onSubmit}>\n                <Input\n                  autocomplete='username'\n                  placeholder='Username'\n                  name='username'\n                  value={user.username}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='name'\n                  placeholder='Full name'\n                  name='fullname'\n                  value={user.fullname}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='email'\n                  type='email'\n                  placeholder='Email'\n                  name='email'\n                  value={user.email}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='password'\n                  type='password'\n                  placeholder='Password'\n                  name='password'\n                  isPassword\n                  value={user.password}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='password_confirm'\n                  type='password'\n                  placeholder='Confirm'\n                  name='password_confirm'\n                  isPassword\n                  value={user.password_confirm}\n                  onChange={onChange}\n                  required\n                />\n                {errors.length ? (\n                  <div className='field'>\n                    <p className='help is-danger'>{errors[0][1] || ''}</p>\n                  </div>\n                ) : (\n                  <></>\n                )}\n\n                <button\n                  className={`button is-medium is-rounded is-block is-primary is-fullwidth ${\n                    isLoading ? 'is-loading' : ''\n                  }`}\n                >\n                  Submit\n                </button>\n                <br />\n                <small>\n                  Already have an account? <Link to='/login'>Login</Link>\n                </small>\n              </form>\n            </div>\n          </div>\n        </div>\n        <div className='column is-8 is-offset-2'>\n          <br />\n          <nav className='level'>\n            <div className='level-left'>\n              <div className='level-item'>\n                <a className='icon'>\n                  <i className='fab fa-facebook'></i>\n                </a>{' '}\n                &emsp;\n                <a className='icon'>\n                  <i className='fab fa-instagram'></i>\n                </a>{' '}\n                &emsp;\n                <a\n                  className='icon'\n                  target='_blank'\n                  href='https://github.com/rnovec/petgram-demo'\n                >\n                  <i className='fab fa-github'></i>\n                </a>{' '}\n                &emsp;\n                <a className='icon' href='mailto:raul.novelo@aaaimx.org'>\n                  <i className='fas fa-envelope'></i>\n                </a>\n              </div>\n            </div>\n            <div className='level-right'>\n              <small className='level-item'>\n                &copy; logoipsum. All Rights Reserved.\n              </small>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import Main from './Main'\nimport { useContext } from 'react'\nimport { AuthContext } from '../context/auth'\nimport '../css/profile.css'\nimport '../css/profile-card.css'\n\nexport default function Profile ({ children }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n\n  return (\n    <section className='section container'>\n      <div className='columns'>\n        <div className='column is-4 '>\n          <aside className='menu'>\n            <ul className='menu-list'>\n              <div className='card box has-text-centered'>\n                <figure className='avatar'>\n                  <img width='200' src={user.picture || defaultAvatar} />\n                </figure>\n                <div className='media-content'>\n                  <p className='title is-4'>{user.fullname}</p>\n                  <p className='subtitle is-6'>@{user.username}</p>\n                  <ul className='has-text-left'>\n                    <li>\n                      <span className='icon'>\n                        <i className='fas fa-envelope' aria-hidden='true'></i>\n                      </span>\n                      &nbsp; {user.email}\n                    </li>\n                  </ul>\n                </div>\n                <br />\n                <footer className='card-footer'>\n                  <div className='card-footer-item'>\n                    <span className='icon'>\n                      <i className='fas fa-image'></i>&nbsp;0\n                    </span>\n                  </div>\n                  <div className='card-footer-item'>\n                    <span className='icon'>\n                      <i className='fas fa-heart'></i>&nbsp;0\n                    </span>\n                  </div>\n                </footer>\n              </div>\n            </ul>\n          </aside>\n        </div>\n        {children}\n      </div>\n    </section>\n  )\n}\n","import PostOptions from './PostOptions'\nimport PostContent from './PostContent'\n\nexport default function PostPreview ({ post }) {\n  return (\n    <article className='media box'>\n      <div className='media-left'>\n        <p>\n          <img className='image is-64x64' src={post.photo} />\n        </p>\n      </div>\n      <PostContent post={post} />\n      <div className='media-right'>\n        <PostOptions post={post} />\n      </div>\n      <hr />\n    </article>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { updateProfile } from '../api/users'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileForm () {\n  const { user, setUser } = useContext(AuthContext)\n  const [selectedFile, setSelectedFile] = useState({})\n  const [isLoading, setIsLoading] = useState(false)\n  const [checked, setChecked] = useState(false)\n\n  const [form, setForm] = useState({\n    id: null,\n    picture: '',\n    address: '',\n    phone: ''\n  })\n\n  useEffect(() => {\n    setForm(user)\n  }, [])\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    console.log(val)\n    setForm({ ...form, [attr]: val })\n  }\n\n  function onChangeFile (e) {\n    setSelectedFile(e.target.files[0])\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      const form_data = new FormData()\n      if (selectedFile.name)\n        form_data.append('picture', selectedFile, selectedFile.name)\n      if (checked) form_data.append('clearAvatar', checked)\n      form_data.append('email', user.email)\n      form_data.append('username', user.username)\n      form_data.append('address', form.address)\n      form_data.append('phone', form.phone)\n\n      const data = await updateProfile(user.id, form_data, {\n        'Content-Type': 'multipart/form-data'\n      })\n      setUser(data)\n      setSelectedFile({})\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <form className='box' onSubmit={onSubmit}>\n      <h3>Profile</h3>\n\n      <div className='field is-horizontal'>\n        <div className='field-label'>\n          <label className='label'>Avatar</label>\n        </div>\n        <div className='field-body'>\n          <div className='field file has-name'>\n            <label className='file-label'>\n              <input\n                className='file-input'\n                type='file'\n                name='resume'\n                onChange={onChangeFile}\n              />\n              <span className='file-cta'>\n                <span className='file-icon'>\n                  <i className='fas fa-upload'></i>\n                </span>\n                <span className='file-label'>Change avatar</span>\n              </span>\n\n              {selectedFile.name && (\n                <span className='file-name'>{selectedFile.name}</span>\n              )}\n            </label>\n          </div>\n          {user.picture && (\n            <p className='help'>\n              <a target='_blank' href={user.picture}>\n                Current\n              </a>\n            </p>\n          )}\n        </div>\n      </div>\n\n      <div class='field is-horizontal'>\n        <div className='field-label'></div>\n        <div className='field-body'>\n          <div className='field'>\n            <div class='control'>\n              <label class='checkbox'>\n                <input\n                  type='checkbox'\n                  checked={checked}\n                  onChange={() => setChecked(!checked)}\n                />{' '}\n                &nbsp;Clear avatar\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Address</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <input\n                className='input'\n                type='text'\n                placeholder='Address'\n                name='address'\n                onChange={onChange}\n                value={form.address}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Phone</label>\n        </div>\n        <div className='field-body'>\n          <div className='field has-addons'>\n            <p className='control'>\n              <a className='button is-static'>+52</a>\n            </p>\n            <p className='control is-expanded'>\n              <input\n                className='input'\n                type='tel'\n                placeholder='Your phone number'\n                name='phone'\n                onChange={onChange}\n                value={form.phone}\n              />\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label'></div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <button\n                className={`button is-primary ${isLoading ? 'is-loading' : ''}`}\n              >\n                Save changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { updateProfile } from '../api/users'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileForm () {\n  const { user, setUser } = useContext(AuthContext)\n  const [isLoading, setIsLoading] = useState(false)\n  const [form, setForm] = useState({\n    username: '',\n    fullname: '',\n    email: ''\n  })\n\n  useEffect(() => {\n    setForm(user)\n  }, [])\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setForm({ ...form, [attr]: val })\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      const postForm = form\n      delete postForm.picture\n      const data = await updateProfile(user.id, form)\n      setUser(data)\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <form className='box' onSubmit={onSubmit}>\n      <h3>Basic Info</h3>\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Account</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <p className='control is-expanded has-icons-left'>\n              <input\n                className='input'\n                type='text'\n                placeholder='Username'\n                name='username'\n                onChange={onChange}\n                value={form.username}\n              />\n              <span className='icon is-small is-left'>\n                <i className='fas fa-user'></i>\n              </span>\n            </p>\n          </div>\n          <div className='field'>\n            <p className='control is-expanded has-icons-left'>\n              <input\n                className='input is-success'\n                type='email'\n                placeholder='Email'\n                name='email'\n                onChange={onChange}\n                value={form.email}\n              />\n              <span className='icon is-small is-left'>\n                <i className='fas fa-envelope'></i>\n              </span>\n              {/* <span className='icon is-small is-right'>\n                <i className='fas fa-check'></i>\n              </span> */}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Fullname</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <p className='control is-expanded'>\n              <input\n                className='input'\n                type='text'\n                placeholder='First name'\n                name='fullname'\n                onChange={onChange}\n                value={form.fullname}\n              />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className='field is-horizontal'>\n        <div className='field-label'></div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <button\n                className={`button is-primary ${isLoading ? 'is-loading' : ''}`}\n              >\n                Save changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport Main from '../layouts/Main'\nimport Profile from '../layouts/Profile'\nimport PostPreview from '../components/PostPreview'\nimport ProfileForm from '../components/ProfileForm'\nimport AccountForm from '../components/AccountForm'\nimport '../css/profile.css'\nimport '../css/profile-card.css'\nimport { getUserPosts } from '../api/users'\nimport { AuthContext } from '../context/auth'\nimport { PostContext } from '../context/posts'\n\nexport default function ProfileReview ({ match: { params } }) {\n  const { user } = useContext(AuthContext)\n  const { currentPost } = useContext(PostContext)\n  const [isEdit, setIsEdit] = useState(false)\n  const [posts, setPosts] = useState([])\n  function toggleTab () {\n    setIsEdit(!isEdit)\n  }\n  useEffect(() => {\n    getUserPosts(params.id).then(res => {\n      setPosts(res.results)\n    })\n  }, [user, currentPost])\n  return (\n    <Main>\n      <br />\n      <Profile>\n        <div className='column is-8'>\n          <div className='tabs is-centered is-boxed is-medium'>\n            <ul>\n              <li className={`${!isEdit ? 'is-active' : ''}`}>\n                <a onClick={toggleTab}>\n                  <span className='icon is-small'>\n                    <i className='fas fa-image' aria-hidden='true'></i>\n                  </span>\n                  <span>Posts</span>\n                </a>\n              </li>\n              <li className={`${isEdit ? 'is-active' : ''}`}>\n                <a onClick={toggleTab}>\n                  <span className='icon is-small'>\n                    <i className='fas fa-cog' aria-hidden='true'></i>\n                  </span>\n                  <span>Edit Profile</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <div className='box content'>\n            {isEdit ? (\n              <>\n                <AccountForm />\n                <ProfileForm />\n              </>\n            ) : (\n              <>\n                {' '}\n                {!posts.length ? (\n                  <div className='notification is-link'>\n                    <article className='media'>\n                      <div className='media-left'>\n                        <span className='icon'>\n                          <i className='fas fa-sad-tear'></i>\n                        </span>\n                      </div>\n                      <div className='media-content'>\n                        Nothing's here…{' '}\n                        <strong>You do not have any post yet</strong>.\n                      </div>\n                      <div className='media-right'>\n                        {/* <button className='button is-small is-primary'>\n                          Dismiss\n                        </button> */}\n                      </div>\n                    </article>\n                  </div>\n                ) : (\n                  posts.map(post => <PostPreview key={post.uuid} post={post} />)\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </Profile>\n    </Main>\n  )\n}\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getToken } from '../util/auth'\n\nconst GuardedRoute = ({ component: Component, auth, ...rest }) => {\n  const token = getToken()\n\n  if (token) {\n    return <Route {...rest} render={props => <Component {...props} />} />\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        auth ? <Component {...props} /> : <Redirect to='/login' />\n      }\n    />\n  )\n}\n\nexport default GuardedRoute\n","import React, { useContext } from 'react'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport Home from '../pages/Home'\nimport Login from '../pages/Login'\nimport Register from '../pages/Register'\nimport Profile from '../pages/Profile'\nimport { AuthContext } from '../context/auth'\nimport GuardedRoute from './GuardedRoute'\n\nexport default function App () {\n  const { isAuthenticated } = useContext(AuthContext)\n\n  return (\n    <Router>\n      <Switch>\n        <Route path='/register'>\n          <Register />\n        </Route>\n        <Route path='/login'>\n          <Login />\n        </Route>\n        <GuardedRoute\n          path='/profile/:id'\n          component={Profile}\n          auth={isAuthenticated}\n        />\n        <GuardedRoute path='/' component={Home} auth={isAuthenticated} />\n      </Switch>\n    </Router>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './router'\nimport { AuthContextProvider } from './context/auth'\nimport { PostContextProvider } from './context/posts'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <PostContextProvider>\n        <App />\n      </PostContextProvider>\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}