(this["webpackJsonpreact-ig"]=this["webpackJsonpreact-ig"]||[]).push([[0],{31:function(e,s,t){},32:function(e,s,t){},33:function(e,s,t){},66:function(e,s,t){},67:function(e,s,t){},68:function(e,s,t){"use strict";t.r(s);var c=t(0),a=t(1),n=t.n(a),i=t(34),r=t.n(i),l=t(9),j=t(4),d=t(3),o=t.n(d),m=t(5),b=t(2),u=t(35),h=t.n(u),O=t(15),x=t.n(O),p=t(36),f="Access-Token",v="Refresh-Token";function N(){return x.a.get(f)}function g(e){x.a.set(v,e)}function w(e){return Object(p.a)(e)}var y=h.a.create({baseURL:"https://petgram-demo.herokuapp.com/api/v1",mode:"cors",credentials:"same-origin",timeout:2e4});y.interceptors.request.use((function(e){var s=N();return e.public||(e.headers.Authorization="Bearer "+s),e})),y.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response.data)}));var C=y;function k(e){return C({url:"/token/access/",method:"POST",public:!0,data:e})}function S(e,s){return C({url:"/users/".concat(e),headers:{"Content-Type":"multipart/form-data"},method:"PUT",data:s})}var P=Object(a.createContext)(),A=function(e){var s=e.children,t=Object(a.useState)(!1),n=Object(b.a)(t,2),i=n[0],r=n[1],l=Object(a.useState)({}),j=Object(b.a)(l,2),d=j[0],u=j[1],h=function(){var e=Object(m.a)(o.a.mark((function e(s){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(s);case 2:t=e.sent,c=t.access,x.a.set(f,c),g(t.refresh),r(!0),Promise.resolve(t);case 7:case"end":return e.stop()}var c}),e)})));return function(s){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(o.a.mark((function e(){var s,t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=N(),t=w(s),e.next=4,a=t.id,C({url:"/users/".concat(a),method:"GET"});case 4:c=e.sent,u(c),Promise.resolve(c);case 7:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),p={user:d,isAuthenticated:i,defaultAvatar:"https://cooplaaurora.com/resources/members/default-user.jpg",getUser:O,setUser:u,setIsAuthenticated:r,authenticate:h,logout:function(){x.a.remove(f),x.a.remove(v),r(!1),u({})}};return Object(c.jsx)(P.Provider,{value:p,children:s})};function T(){var e=Object(j.g)(),s=Object(a.useContext)(P),t=s.user,n=s.logout;return Object(c.jsxs)("div",{className:"navbar is-inline-flex is-transparent",children:[Object(c.jsx)("div",{className:"navbar-brand",children:Object(c.jsx)(l.b,{to:"/",className:"navbar-item",children:Object(c.jsx)("img",{src:"/petgram-demo/logo.png"})})}),Object(c.jsx)("div",{className:"navbar-menu",children:Object(c.jsx)("div",{className:"navbar-item"})}),Object(c.jsxs)("div",{className:"navbar-item is-flex-touch",children:[Object(c.jsx)(l.b,{className:"navbar-item",to:"/",children:Object(c.jsx)("i",{className:"material-icons",children:"home"})}),Object(c.jsx)(l.b,{to:"/profile/"+t.id,className:"navbar-item",children:Object(c.jsx)("i",{className:"material-icons",children:"person_outline"})}),Object(c.jsx)("a",{className:"navbar-item",onClick:function(){n(),e.push("/login")},children:Object(c.jsx)("i",{className:"material-icons has-text-danger",children:"logout"})})]})]})}function _(){return Object(c.jsx)("footer",{className:"footer",children:Object(c.jsx)("div",{className:"container is-fluid",children:Object(c.jsx)("div",{className:"content has-text-centered",children:Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Petgram"})," by \xa0",Object(c.jsx)("a",{href:"https://rnovec.github.io",children:"Ra\xfal Novelo"}),". The source code is licensed \xa0",Object(c.jsx)("a",{href:"http://opensource.org/licenses/mit-license.php",children:"MIT"}),". The website content is licensed \xa0",Object(c.jsx)("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:"CC BY NC SA 4.0"}),"."]})})})})}t(31);function D(e){var s=e.children,t=Object(a.useContext)(P).getUser;return Object(a.useEffect)((function(){t()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{}),s,Object(c.jsx)(_,{})]})}function E(e){return C({url:"/posts",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:e})}function q(e){return C({url:"/comments",method:"POST",data:e})}function F(e){return C({url:"/posts/".concat(e,"/comments"),method:"GET"})}function L(e){var s=Math.floor((new Date-new Date(e))/1e3),t=s/31536e3;return t>1?Math.floor(t)+" years":(t=s/2592e3)>1?Math.floor(t)+" months":(t=s/86400)>1?Math.floor(t)+" days":(t=s/3600)>1?Math.floor(t)+" hours":(t=s/60)>1?Math.floor(t)+" minutes":Math.floor(s)+" seconds"}function M(e){var s=e.post_id,t=e.onComment,n=Object(a.useContext)(P),i=n.user,r=n.defaultAvatar,l=Object(a.useState)(""),j=Object(b.a)(l,2),d=j[0],u=j[1];function h(){return(h=Object(m.a)(o.a.mark((function e(c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!d.trim()){e.next=6;break}return e.next=4,q({user_id:i.id,post_id:s,message:d});case 4:u(""),t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("figure",{className:"media-left",children:Object(c.jsx)("p",{className:"image is-48x48",children:Object(c.jsx)("img",{className:"is-rounded",src:i.picture||r})})}),Object(c.jsx)("div",{className:"media-content",children:Object(c.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control",children:Object(c.jsx)("textarea",{className:"textarea",rows:"3",onChange:function(e){e.preventDefault(),u(e.target.value)},placeholder:"Add a comment..."})})}),Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control",children:Object(c.jsx)("button",{className:"button is-primary is-fullwidth",children:"Post comment"})})})]})})]})}function R(e){var s=e.comment,t=Object(a.useContext)(P).defaultAvatar;return Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("figure",{className:"media-left",children:Object(c.jsx)("p",{className:"image is-32x32",children:Object(c.jsx)("img",{className:"is-rounded",src:s.user.picture||t})})}),Object(c.jsx)("div",{className:"media-content",children:Object(c.jsx)("div",{className:"content",children:Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:s.user.fullname}),Object(c.jsx)("br",{}),s.message,Object(c.jsx)("br",{}),Object(c.jsxs)("small",{className:"has-text-grey",children:[Object(c.jsx)("a",{href:"#add-comment",children:"Reply"})," \xb7 ",L(s.created)," ago"]})]})})})]})}function U(){var e=Object(a.useState)(!1),s=Object(b.a)(e,2),t=s[0],n=s[1];function i(e){e.preventDefault(),n(!t)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("a",{onClick:i,className:"dropdown-item has-text-danger",children:"Delete post"}),Object(c.jsxs)("div",{className:"modal ".concat(t?"is-active":""),children:[Object(c.jsx)("div",{className:"modal-background"}),Object(c.jsxs)("div",{className:"modal-card",children:[Object(c.jsx)("header",{className:"modal-card-head",children:Object(c.jsx)("p",{className:"modal-card-title",children:"Are you sure?"})}),Object(c.jsxs)("section",{className:"modal-card-body",children:["This action will ",Object(c.jsx)("b",{children:"permanently destroy the post"}),"."]}),Object(c.jsxs)("footer",{className:"modal-card-foot has-text-left",children:[Object(c.jsx)("button",{className:"button is-danger",children:"Remove"}),Object(c.jsx)("button",{className:"button",onClick:i,children:"Cancel"})]})]})]})]})}function z(){var e=Object(a.useState)(!1),s=Object(b.a)(e,2),t=s[0],n=s[1];return Object(c.jsxs)("div",{className:"dropdown ".concat(t?"is-active":""," is-right"),children:[Object(c.jsx)("div",{className:"dropdown-trigger",children:Object(c.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),n(!t)},children:Object(c.jsx)("i",{className:"material-icons",children:"more_vert"})})}),Object(c.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu3",role:"menu",children:Object(c.jsxs)("div",{className:"dropdown-content",children:[Object(c.jsx)("a",{href:"#",className:"dropdown-item",children:"Edit"}),Object(c.jsx)("a",{href:"#",className:"dropdown-item",children:"Share"}),Object(c.jsx)("hr",{className:"dropdown-divider"}),Object(c.jsx)(U,{})]})})]})}function B(e){var s=e.post,t=Object(a.useContext)(P),n=t.user,i=t.defaultAvatar,r=Object(a.useState)(!1),l=Object(b.a)(r,2),j=l[0],d=l[1],u=Object(a.useState)([]),h=Object(b.a)(u,2),O=h[0],x=h[1],p=Object(a.useState)(!1),f=Object(b.a)(p,2),v=f[0],N=f[1];function g(e){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(s.uuid);case 2:c=e.sent,x(c.results),d(!j);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("div",{className:"media",children:[Object(c.jsx)("div",{className:"media-left",children:Object(c.jsx)("figure",{className:"image is-48x48",children:Object(c.jsx)("img",{className:"is-rounded",src:s.user.picture||i,alt:"Placeholder"})})}),Object(c.jsxs)("div",{className:"media-content",children:[Object(c.jsx)("p",{className:"title is-4",children:s.user.fullname}),Object(c.jsxs)("p",{className:"subtitle is-6",children:["@",s.user.username]})]}),n.id===s.user.id&&Object(c.jsx)("div",{className:"media-right",children:Object(c.jsx)(z,{})})]})}),Object(c.jsx)("div",{className:"card-image",children:Object(c.jsx)("figure",{className:"image is-4by3",children:Object(c.jsx)("img",{src:s.photo,alt:"Placeholder"})})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("div",{className:"level is-mobile",children:Object(c.jsxs)("div",{className:"level-left",children:[Object(c.jsx)("div",{className:"level-item has-text-centered",children:Object(c.jsx)("a",{onClick:function(e){N(!v),e.preventDefault()},children:Object(c.jsx)("i",{className:"material-icons has-text-danger",children:v?"favorite":"favorite_border"})})}),Object(c.jsx)("div",{className:"level-item has-text-centered",children:Object(c.jsx)("div",{children:Object(c.jsx)("a",{onClick:g,children:Object(c.jsx)("i",{className:"material-icons",children:"chat_bubble_outline"})})})})]})}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("strong",{children:"32 Likes"}),Object(c.jsx)("br",{}),s.description,Object(c.jsx)("br",{}),Object(c.jsx)("time",{children:L(s.created)})," ago"]}),j&&O.map((function(e){return Object(c.jsx)(R,{comment:e},e.uuid)}))]}),Object(c.jsx)("div",{id:"add-comment",className:"card-footer",children:Object(c.jsx)("div",{className:"column is-12",children:Object(c.jsx)(M,{post_id:s.uuid,onComment:g})})})]})}function G(){var e=Object(j.g)(),s=Object(a.useContext)(P),t=s.user,n=s.defaultAvatar,i=Object(a.useState)(null),r=Object(b.a)(i,2),l=r[0],d=r[1],u=Object(a.useState)(""),h=Object(b.a)(u,2),O=h[0],x=h[1],p=Object(a.useState)(""),f=Object(b.a)(p,2),v=f[0],N=f[1],g=Object(a.useState)(!1),w=Object(b.a)(g,2),y=w[0],C=w[1];function k(){return(k=Object(m.a)(o.a.mark((function s(c){var a;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c.preventDefault(),t.picture||e.push("/profile"),!O||!v){s.next=21;break}return C(!0),(a=new FormData).append("photo",l,l.name),a.append("description",v),a.append("user_id",t.id),s.prev=8,s.next=11,E(a);case 11:N(""),d({}),x(""),s.next=18;break;case 16:s.prev=16,s.t0=s.catch(8);case 18:return s.prev=18,C(!1),s.finish(18);case 21:case"end":return s.stop()}}),s,null,[[8,16,18,21]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("header",{className:"card-header",children:Object(c.jsxs)("p",{className:"card-header-title",children:[Object(c.jsx)("span",{className:"icon is-medium",children:Object(c.jsx)("i",{className:"fas fa-image","aria-hidden":"true"})}),"Create a new post"]})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("figure",{className:"media-left image is-48x48",children:Object(c.jsx)("img",{className:"is-rounded",src:t.picture||n})}),Object(c.jsx)("div",{className:"media-content",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control ".concat(y?"is-loading":""),children:Object(c.jsx)("textarea",{className:"textarea",onChange:function(e){N(e.target.value)},rows:"3",placeholder:"Add a description..."})})})})]}),Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{id:"photo",accept:"image/png, image/jpeg",className:"file-input",onChange:function(e){d(e.target.files[0]),x(e.target.files[0].name.slice(0,10))},type:"file",name:"resume"})})})]}),Object(c.jsxs)("footer",{className:"card-footer",children:[Object(c.jsxs)("label",{htmlFor:"photo",className:"card-footer-item file-label",children:[Object(c.jsx)("i",{className:"material-icons",children:"perm_media"}),"\xa0",O?O+"...":"Add photo"]}),y?Object(c.jsxs)("a",{className:"card-footer-item button is-white is-loading",children:[Object(c.jsx)("i",{className:"material-icons",children:"send"}),"\xa0Publish"]}):Object(c.jsxs)("a",{onClick:function(e){return k.apply(this,arguments)},className:"card-footer-item",children:[Object(c.jsx)("i",{className:"material-icons",children:"send"}),"\xa0Publish"]})]})]})}var I=Object(a.createContext)(),Y=function(e){var s=e.children,t=Object(a.useState)([]),n=Object(b.a)(t,2),i=n[0],r=n[1],l={posts:i,getPostList:function(){var e=Object(m.a)(o.a.mark((function e(){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({url:"/posts",method:"GET"});case 2:s=e.sent,r(s.results),Promise.resolve(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return Object(c.jsx)(I.Provider,{value:l,children:s})};function J(){var e=Object(a.useContext)(I),s=e.posts,t=e.getPostList;return Object(a.useEffect)((function(){Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(c.jsx)(D,{children:Object(c.jsx)("section",{className:"section",children:Object(c.jsx)("div",{className:"columns body-columns",children:Object(c.jsxs)("div",{className:"column is-half is-offset-one-quarter",children:[Object(c.jsx)(G,{}),s.map((function(e,s){return Object(c.jsx)(B,{post:e},s)}))]})})})})}var H=t(17);function K(e){var s=e.type,t=void 0===s?"text":s,n=e.name,i=e.autocomplete,r=e.placeholder,l=e.value,j=e.required,d=e.icon,o=e.isPassword,m=Object(H.a)(e,["type","name","autocomplete","placeholder","value","required","icon","isPassword"]),u=Object(a.useState)(!1),h=Object(b.a)(u,2),O=h[0],x=h[1];return Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("div",{className:"control ".concat(d?"has-icons-left":""," has-icons-right"),children:[Object(c.jsx)("input",{className:"input is-rounded",onChange:m.onChange,name:n,autoComplete:i,value:l,type:o&&O?"text":t,required:!!j,placeholder:r}),d&&Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"material-icons",children:d})}),o&&Object(c.jsx)("span",{className:"icon is-small is-right is-clickable",onClick:function(){x(!O)},children:Object(c.jsx)("i",{className:"material-icons",children:O?"visibility":"visibility_off"})})]})})}t(66);function Q(){var e=Object(j.g)(),s=Object(a.useState)(""),t=Object(b.a)(s,2),n=t[0],i=t[1],r=Object(a.useState)(""),d=Object(b.a)(r,2),u=d[0],h=d[1],O=Object(a.useState)(!1),x=Object(b.a)(O,2),p=x[0],f=x[1],v=Object(a.useContext)(P).authenticate;function N(){return(N=Object(m.a)(o.a.mark((function s(t){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),f(!0),s.prev=2,s.next=5,v({username:n,password:u});case 5:e.push("/"),s.next=10;break;case 8:s.prev=8,s.t0=s.catch(2);case 10:return s.prev=10,f(!1),s.finish(10);case 13:case"end":return s.stop()}}),s,null,[[2,8,10,13]])})))).apply(this,arguments)}return Object(c.jsx)("section",{className:"hero is-fullheight",children:Object(c.jsx)("div",{className:"hero-body has-text-centered",children:Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("img",{src:"https://logoipsum.com/logo/logo-12.svg",alt:"login-logo",width:"325px"}),Object(c.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(c.jsx)(K,{className:"input is-rounded",type:"text",placeholder:"Username",autoComplete:"username",icon:"email",onChange:function(e){i(e.target.value)},required:!0}),Object(c.jsx)(K,{autocomplete:"password",type:"password",placeholder:"Password",name:"password",icon:"lock",isPassword:!0,onChange:function(e){h(e.target.value)},required:!0})," ",Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("label",{className:"checkbox",children:[Object(c.jsx)("input",{type:"checkbox"})," Remember me"]})}),Object(c.jsx)("button",{className:"button is-block is-fullwidth is-primary is-medium is-rounded ".concat(p?"is-loading":""),type:"submit",children:"Login"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("nav",{className:"level",children:Object(c.jsx)("div",{className:"level-item has-text-centered",children:Object(c.jsx)("div",{children:Object(c.jsx)(l.b,{to:"/register",children:"Create an Account"})})})})]})})})}var V=t(13),W=t(7);t(67);function X(){var e=Object(j.g)(),s=Object(a.useState)(!1),t=Object(b.a)(s,2),n=t[0],i=t[1],r=Object(a.useState)([]),d=Object(b.a)(r,2),u=d[0],h=d[1],O=Object(a.useState)({username:"rnovec98",fullname:"Raul Novelo",email:"raul.novelo@aaaimx.org",password:"12345",password_confirm:"123456"}),x=Object(b.a)(O,2),p=x[0],f=x[1];function v(e){var s=e.target.value,t=e.target.name;f(Object(W.a)(Object(W.a)({},p),{},Object(V.a)({},t,s)))}var N=function(){var s=Object(m.a)(o.a.mark((function s(t){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),i(!0),h([]),s.prev=3,s.next=6,C({url:"/accounts/register/",method:"POST",public:!0,data:p});case 6:e.push("/"),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(3),h(Object.entries(s.t0));case 12:return s.prev=12,i(!1),s.finish(12);case 15:case"end":return s.stop()}}),s,null,[[3,9,12,15]])})));return function(e){return s.apply(this,arguments)}}();return Object(c.jsx)("section",{className:"section container",children:Object(c.jsxs)("div",{className:"columns is-multiline",children:[Object(c.jsx)("div",{className:"column is-8 is-offset-2 register ",children:Object(c.jsxs)("div",{className:"columns",children:[Object(c.jsxs)("div",{className:"column left is-hidden-mobile",children:[Object(c.jsx)("img",{src:"https://logoipsum.com/logo/logo-12.svg"}),Object(c.jsx)("h2",{className:"subtitle colored is-4",children:"Lorem ipsum dolor sit amet."}),Object(c.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Corporis ex deleniti aliquam tempora libero excepturi vero soluta odio optio sed."})]}),Object(c.jsxs)("div",{className:"column right has-text-centered",children:[Object(c.jsx)("h1",{className:"title is-4",children:"Sign up today"}),Object(c.jsx)("p",{className:"description",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit"}),Object(c.jsxs)("form",{onSubmit:N,children:[Object(c.jsx)(K,{autocomplete:"username",placeholder:"Username",name:"username",value:p.username,onChange:v,required:!0}),Object(c.jsx)(K,{autocomplete:"name",placeholder:"Full name",name:"fullname",value:p.fullname,onChange:v,required:!0}),Object(c.jsx)(K,{autocomplete:"email",type:"email",placeholder:"Email",name:"email",value:p.email,onChange:v,required:!0}),Object(c.jsx)(K,{autocomplete:"password",type:"password",placeholder:"Password",name:"password",isPassword:!0,value:p.password,onChange:v,required:!0}),Object(c.jsx)(K,{autocomplete:"password_confirm",type:"password",placeholder:"Confirm",name:"password_confirm",isPassword:!0,value:p.password_confirm,onChange:v,required:!0}),u.length?Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"help is-danger",children:u[0][1]||""})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("button",{className:"button is-medium is-rounded is-block is-primary is-fullwidth ".concat(n?"is-loading":""),children:"Submit"}),Object(c.jsx)("br",{}),Object(c.jsxs)("small",{children:["Already have an account? ",Object(c.jsx)(l.b,{to:"/login",children:"Login"})]})]})]})]})}),Object(c.jsxs)("div",{className:"column is-8 is-offset-2",children:[Object(c.jsx)("br",{}),Object(c.jsxs)("nav",{className:"level",children:[Object(c.jsx)("div",{className:"level-left",children:Object(c.jsxs)("div",{className:"level-item",children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-twitter"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-facebook"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-instagram"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-github"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fas fa-envelope"})})]})}),Object(c.jsx)("div",{className:"level-right",children:Object(c.jsx)("small",{className:"level-item",children:"\xa9 logoipsum. All Rights Reserved."})})]})]})]})})}t(32),t(33);function Z(e){var s=e.children,t=Object(a.useContext)(P),n=t.user,i=t.defaultAvatar;return Object(c.jsx)("section",{className:"section container",children:Object(c.jsxs)("div",{className:"columns",children:[Object(c.jsx)("div",{className:"column is-4 ",children:Object(c.jsx)("aside",{className:"menu",children:Object(c.jsx)("ul",{className:"menu-list",children:Object(c.jsxs)("div",{className:"card box has-text-centered",children:[Object(c.jsx)("figure",{className:"avatar",children:Object(c.jsx)("img",{width:"200",src:n.picture||i})}),Object(c.jsxs)("div",{className:"media-content",children:[Object(c.jsx)("p",{className:"title is-4",children:n.fullname}),Object(c.jsxs)("p",{className:"subtitle is-6",children:["@",n.username]}),Object(c.jsx)("ul",{className:"has-text-left",children:Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fas fa-envelope","aria-hidden":"true"})}),"\xa0 ",n.email]})})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("footer",{className:"card-footer",children:[Object(c.jsx)("div",{className:"card-footer-item",children:Object(c.jsxs)("span",{className:"icon",children:[Object(c.jsx)("i",{className:"fas fa-image"}),"\xa00"]})}),Object(c.jsx)("div",{className:"card-footer-item",children:Object(c.jsxs)("span",{className:"icon",children:[Object(c.jsx)("i",{className:"fas fa-heart"}),"\xa00"]})})]})]})})})}),s]})})}function $(e){var s=e.post;return Object(c.jsxs)("article",{className:"media box",children:[Object(c.jsx)("div",{className:"media-left",children:Object(c.jsx)("p",{children:Object(c.jsx)("img",{className:"image is-64x64",src:s.photo})})}),Object(c.jsxs)("div",{className:"media-content",children:[Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("strong",{children:s.user.fullname})," \xb7"," ",Object(c.jsxs)("span",{children:["@",s.user.username]})," \xb7"," ",Object(c.jsxs)("small",{className:"has-text-grey",children:[Object(c.jsx)("time",{children:L(s.created)})," ago"]}),Object(c.jsx)("br",{}),s.description]}),Object(c.jsx)("nav",{className:"level is-mobile",children:Object(c.jsxs)("div",{className:"level-left",children:["\xa0 \xa0",Object(c.jsx)("a",{className:"level-item",children:Object(c.jsxs)("span",{className:"icon is-small",children:[Object(c.jsx)("i",{className:"fas fa-comments"})," 10"]})}),"\xa0 \xa0",Object(c.jsx)("a",{className:"level-item has-text-danger",children:Object(c.jsxs)("span",{className:"icon is-small",children:[Object(c.jsx)("i",{className:"fas fa-heart"})," 1"]})})]})})]}),Object(c.jsx)("div",{className:"media-right",children:Object(c.jsx)(z,{})}),Object(c.jsx)("hr",{})]})}function ee(){var e=Object(a.useContext)(P),s=e.user,t=e.setUser,n=Object(a.useState)({}),i=Object(b.a)(n,2),r=i[0],l=i[1],j=Object(a.useState)(!1),d=Object(b.a)(j,2),u=d[0],h=d[1],O=Object(a.useState)({id:null,picture:"",address:"",phone:""}),x=Object(b.a)(O,2),p=x[0],f=x[1];function v(e){var s=e.target.value,t=e.target.name;f(Object(W.a)(Object(W.a)({},p),{},Object(V.a)({},t,s)))}function N(){return(N=Object(m.a)(o.a.mark((function e(c){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),h(!0),e.prev=2,a=new FormData,r.name&&a.append("picture",r,r.name),a.append("email",s.email),a.append("username",s.username),a.append("address",p.address),a.append("phone",p.phone),e.next=11,S(s.id,a);case 11:n=e.sent,t(n),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,15,17,20]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){f(s),console.log(s)}),[]),Object(c.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(c.jsx)("h3",{children:"Profile"}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:"Avatar"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"file has-name",children:Object(c.jsxs)("label",{className:"file-label",children:[Object(c.jsx)("input",{className:"file-input",type:"file",name:"resume",onChange:function(e){l(e.target.files[0])}}),Object(c.jsxs)("span",{className:"file-cta",children:[Object(c.jsx)("span",{className:"file-icon",children:Object(c.jsx)("i",{className:"fas fa-upload"})}),Object(c.jsx)("span",{className:"file-label",children:"Change avatar"})]}),r.name&&Object(c.jsx)("span",{className:"file-name",children:r.name})]})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Address"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Address",name:"address",onChange:v,value:p.address})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Phone"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field is-expanded",children:Object(c.jsxs)("div",{className:"field has-addons",children:[Object(c.jsx)("p",{className:"control",children:Object(c.jsx)("a",{className:"button is-static",children:"+52"})}),Object(c.jsx)("p",{className:"control is-expanded",children:Object(c.jsx)("input",{className:"input",type:"tel",placeholder:"Your phone number",name:"phone",onChange:v,value:p.phone})})]})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label"}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("button",{className:"button is-primary ".concat(u?"is-loading":""),children:"Save changes"})})})})]})]})}function se(){var e=Object(a.useContext)(P).user,s=Object(a.useState)({username:"",fullname:"",email:""}),t=Object(b.a)(s,2),n=t[0],i=t[1];function r(e){var s=e.target.value,t=e.target.name;i(Object(W.a)(Object(W.a)({},n),{},Object(V.a)({},t,s)))}return Object(a.useEffect)((function(){i(e)}),[]),Object(c.jsxs)("form",{children:[Object(c.jsx)("h3",{children:"Basic Info"}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Account"})}),Object(c.jsxs)("div",{className:"field-body",children:[Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Username",name:"username",onChange:r,value:n.username}),Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"fas fa-user"})})]})}),Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(c.jsx)("input",{className:"input is-success",type:"email",placeholder:"Email",name:"email",onChange:r,value:n.email}),Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"fas fa-envelope"})})]})})]})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Fullname"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control is-expanded",children:Object(c.jsx)("input",{className:"input",type:"text",placeholder:"First name",name:"fullname",onChange:r,value:n.fullname})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label"}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("button",{className:"button is-primary",children:"Save changes"})})})})]})]})}function te(e){var s=e.match.params,t=Object(a.useContext)(P).user,n=Object(a.useState)(!1),i=Object(b.a)(n,2),r=i[0],l=i[1],j=Object(a.useState)([]),d=Object(b.a)(j,2),o=d[0],m=d[1];function u(){l(!r)}return Object(a.useEffect)((function(){var e;(e=s.id,C({url:"/users/".concat(e,"/posts"),method:"GET"})).then((function(e){m(e.results)}))}),t),Object(c.jsxs)(D,{children:[Object(c.jsx)("br",{}),Object(c.jsx)(Z,{children:Object(c.jsxs)("div",{className:"column is-8",children:[Object(c.jsx)("div",{className:"tabs is-centered is-boxed is-medium",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{className:"".concat(r?"":"is-active"),children:Object(c.jsxs)("a",{onClick:u,children:[Object(c.jsx)("span",{className:"icon is-small",children:Object(c.jsx)("i",{className:"fas fa-image","aria-hidden":"true"})}),Object(c.jsx)("span",{children:"Posts"})]})}),Object(c.jsx)("li",{className:"".concat(r?"is-active":""),children:Object(c.jsxs)("a",{onClick:u,children:[Object(c.jsx)("span",{className:"icon is-small",children:Object(c.jsx)("i",{className:"fas fa-cog","aria-hidden":"true"})}),Object(c.jsx)("span",{children:"Edit Profile"})]})})]})}),Object(c.jsx)("div",{className:"box content",children:r?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(se,{}),Object(c.jsx)(ee,{})]}):Object(c.jsxs)(c.Fragment,{children:[" ",o.length?o.map((function(e){return Object(c.jsx)($,{post:e},e.uuid)})):Object(c.jsx)("div",{className:"notification is-link",children:Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("div",{className:"media-left",children:Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fas fa-sad-tear"})})}),Object(c.jsxs)("div",{className:"media-content",children:["Nothing's here\u2026"," ",Object(c.jsx)("strong",{children:"You do not have any post yet"}),"."]}),Object(c.jsx)("div",{className:"media-right"})]})})]})})]})})]})}var ce=function(e){var s=e.component,t=e.auth,a=Object(H.a)(e,["component","auth"]);return N()?(console.log(window.location.href),Object(c.jsx)(j.b,Object(W.a)(Object(W.a)({},a),{},{render:function(e){return Object(c.jsx)(s,Object(W.a)({},e))}}))):Object(c.jsx)(j.b,Object(W.a)(Object(W.a)({},a),{},{render:function(e){return t?Object(c.jsx)(s,Object(W.a)({},e)):Object(c.jsx)(j.a,{to:"/login"})}}))};function ae(){var e=Object(a.useContext)(P).isAuthenticated;return Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{path:"/register",children:Object(c.jsx)(X,{})}),Object(c.jsx)(j.b,{path:"/login",children:Object(c.jsx)(Q,{})}),Object(c.jsx)(ce,{path:"/profile/:id",component:te,auth:e}),Object(c.jsx)(ce,{path:"/",component:J,auth:e})]})})}r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(A,{children:Object(c.jsx)(Y,{children:Object(c.jsx)(ae,{})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.df699065.chunk.js.map