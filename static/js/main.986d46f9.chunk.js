(this["webpackJsonpreact-ig"]=this["webpackJsonpreact-ig"]||[]).push([[0],{31:function(e,s,c){},32:function(e,s,c){},33:function(e,s,c){},66:function(e,s,c){},67:function(e,s,c){},68:function(e,s,c){"use strict";c.r(s);var t=c(0),a=c(1),n=c.n(a),i=c(34),l=c.n(i),r=c(9),j=c(4),d=c(3),o=c.n(d),b=c(7),m=c(2),h=c(35),u=c.n(h),O=c(15),x=c.n(O),p=c(36),f="Access-Token",v="Refresh-Token";function N(){return x.a.get(f)}function g(e){x.a.set(v,e)}function w(e){return Object(p.a)(e)}var y=u.a.create({baseURL:"https://petgram-demo.herokuapp.com/api/v1",mode:"cors",credentials:"same-origin",timeout:2e4});y.interceptors.request.use((function(e){var s=N();return e.public||(e.headers.Authorization="Bearer "+s),e})),y.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response.data)}));var C=y;function k(e){return C({url:"/token/access/",method:"POST",public:!0,data:e})}function S(e,s){return C({url:"/users/".concat(e),headers:{"Content-Type":"multipart/form-data"},method:"PUT",data:s})}var P=Object(a.createContext)(),A=function(e){var s=e.children,c=Object(a.useState)(!1),n=Object(m.a)(c,2),i=n[0],l=n[1],r=Object(a.useState)({}),j=Object(m.a)(r,2),d=j[0],h=j[1],u=function(){var e=Object(b.a)(o.a.mark((function e(s){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(s);case 2:c=e.sent,t=c.access,x.a.set(f,t),g(c.refresh),l(!0),Promise.resolve(c);case 7:case"end":return e.stop()}var t}),e)})));return function(s){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(o.a.mark((function e(){var s,c,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=N(),c=w(s),e.next=4,a=c.id,C({url:"/users/".concat(a),method:"GET"});case 4:t=e.sent,h(t),Promise.resolve(t);case 7:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),p={user:d,isAuthenticated:i,defaultAvatar:"https://cooplaaurora.com/resources/members/default-user.jpg",getUser:O,setUser:h,setIsAuthenticated:l,authenticate:u,logout:function(){x.a.remove(f),x.a.remove(v),l(!1),h({})}};return Object(t.jsx)(P.Provider,{value:p,children:s})};function T(){var e=Object(j.g)(),s=Object(a.useContext)(P).logout;return Object(t.jsxs)("div",{className:"navbar is-inline-flex is-transparent",children:[Object(t.jsx)("div",{className:"navbar-brand",children:Object(t.jsx)(r.b,{to:"/",className:"navbar-item",children:Object(t.jsx)("img",{src:"/petgram-demo/logo.png"})})}),Object(t.jsx)("div",{className:"navbar-menu",children:Object(t.jsx)("div",{className:"navbar-item",children:Object(t.jsxs)("div",{className:"control has-icons-left",children:[Object(t.jsx)("input",{className:"input is-rounded is-small has-text-centered",type:"text",placeholder:"search"}),Object(t.jsx)("span",{className:"icon is-left is-small",children:Object(t.jsx)("i",{className:"material-icons",children:"search"})})]})})}),Object(t.jsxs)("div",{className:"navbar-item is-flex-touch",children:[Object(t.jsx)(r.b,{className:"navbar-item",to:"/",children:Object(t.jsx)("i",{className:"material-icons",children:"home"})}),Object(t.jsx)(r.b,{to:"/profile",className:"navbar-item",children:Object(t.jsx)("i",{className:"material-icons",children:"person_outline"})}),Object(t.jsx)("a",{className:"navbar-item",onClick:function(){s(),e.push("/login")},children:Object(t.jsx)("i",{className:"material-icons has-text-danger",children:"logout"})})]})]})}function D(){return Object(t.jsx)("footer",{className:"footer",children:Object(t.jsx)("div",{className:"container is-fluid",children:Object(t.jsx)("div",{className:"content has-text-centered",children:Object(t.jsxs)("p",{children:[Object(t.jsx)("strong",{children:"Bulma"})," by",Object(t.jsx)("a",{href:"http://jgthms.com",children:"Jeremy Thomas"}),". The source code is licensed",Object(t.jsx)("a",{href:"http://opensource.org/licenses/mit-license.php",children:"MIT"}),". The website content is licensed",Object(t.jsx)("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:"CC BY NC SA 4.0"}),"."]})})})})}c(31);function E(e){var s=e.children,c=Object(a.useContext)(P).getUser;return Object(a.useEffect)((function(){c()}),[]),Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(T,{}),s,Object(t.jsx)(D,{})]})}function q(e){var s=Math.floor((new Date-new Date(e))/1e3),c=s/31536e3;return c>1?Math.floor(c)+" years":(c=s/2592e3)>1?Math.floor(c)+" months":(c=s/86400)>1?Math.floor(c)+" days":(c=s/3600)>1?Math.floor(c)+" hours":(c=s/60)>1?Math.floor(c)+" minutes":Math.floor(s)+" seconds"}function F(){var e=Object(a.useContext)(P),s=e.user,c=e.defaultAvatar;return Object(t.jsxs)("article",{className:"media",children:[Object(t.jsx)("figure",{className:"media-left",children:Object(t.jsx)("p",{className:"image is-48x48",children:Object(t.jsx)("img",{className:"is-rounded",src:s.picture||c})})}),Object(t.jsxs)("div",{className:"media-content",children:[Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("p",{className:"control",children:Object(t.jsx)("textarea",{className:"textarea",rows:"3",placeholder:"Add a comment..."})})}),Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("p",{className:"control",children:Object(t.jsx)("button",{className:"button is-primary is-fullwidth",children:"Post comment"})})})]})]})}function L(){return Object(t.jsxs)("article",{className:"media",children:[Object(t.jsx)("figure",{className:"media-left",children:Object(t.jsx)("p",{className:"image is-48x48",children:Object(t.jsx)("img",{src:"https://bulma.io/images/placeholders/96x96.png"})})}),Object(t.jsx)("div",{className:"media-content",children:Object(t.jsx)("div",{className:"content",children:Object(t.jsxs)("p",{children:[Object(t.jsx)("strong",{children:"Sean Brown"}),Object(t.jsx)("br",{}),"Donec sollicitudin urna eget eros malesuada sagittis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam blandit nisl a nulla sagittis, a lobortis leo feugiat.",Object(t.jsx)("br",{}),Object(t.jsxs)("small",{children:[Object(t.jsx)("a",{children:"Like"})," \xb7 ",Object(t.jsx)("a",{children:"Reply"})," \xb7 2 hrs"]})]})})})]})}function _(e){var s=e.post,c=Object(a.useContext)(P),n=(c.user,c.defaultAvatar),i=Object(a.useState)(!1),l=Object(m.a)(i,2),r=l[0],j=l[1],d=Object(a.useState)(!1),o=Object(m.a)(d,2),b=o[0],h=o[1];function u(e){j(!r),e.preventDefault()}return Object(t.jsxs)("div",{className:"card",children:[Object(t.jsx)("div",{className:"header",children:Object(t.jsxs)("div",{className:"media",children:[Object(t.jsx)("div",{className:"media-left",children:Object(t.jsx)("figure",{className:"image is-48x48",children:Object(t.jsx)("img",{className:"is-rounded",src:s.user.picture||n,alt:"Placeholder"})})}),Object(t.jsxs)("div",{className:"media-content",children:[Object(t.jsx)("p",{className:"title is-4",children:s.user.fullname}),Object(t.jsxs)("p",{className:"subtitle is-6",children:["@",s.user.username]})]}),Object(t.jsx)("div",{className:"media-right",children:Object(t.jsxs)("div",{class:"dropdown is-active2 is-right",children:[Object(t.jsx)("div",{class:"dropdown-trigger",children:Object(t.jsx)("a",{href:"",onClick:u,children:Object(t.jsx)("i",{className:"material-icons",children:"more_vert"})})}),Object(t.jsx)("div",{class:"dropdown-menu",id:"dropdown-menu3",role:"menu",children:Object(t.jsxs)("div",{class:"dropdown-content",children:[Object(t.jsx)("a",{href:"#",class:"dropdown-item",children:"Edit"}),Object(t.jsx)("a",{href:"#",class:"dropdown-item",children:"Share"}),Object(t.jsx)("hr",{class:"dropdown-divider"}),Object(t.jsx)("a",{href:"#",class:"dropdown-item has-text-danger",children:"Delete post"})]})})]})})]})}),Object(t.jsx)("div",{className:"card-image",children:Object(t.jsx)("figure",{className:"image is-4by3",children:Object(t.jsx)("img",{src:s.photo,alt:"Placeholder"})})}),Object(t.jsxs)("div",{className:"card-content",children:[Object(t.jsx)("div",{className:"level is-mobile",children:Object(t.jsxs)("div",{className:"level-left",children:[Object(t.jsx)("div",{className:"level-item has-text-centered",children:Object(t.jsx)("a",{href:"",onClick:function(e){h(!b),e.preventDefault()},children:Object(t.jsx)("i",{className:"material-icons has-text-danger",children:b?"favorite":"favorite_border"})})}),Object(t.jsx)("div",{className:"level-item has-text-centered",children:Object(t.jsx)("div",{children:Object(t.jsx)("a",{href:"",onClick:u,children:Object(t.jsx)("i",{className:"material-icons",children:"chat_bubble_outline"})})})})]})}),Object(t.jsxs)("div",{className:"content",children:[Object(t.jsx)("strong",{children:"32 Likes"}),Object(t.jsx)("br",{}),s.description,Object(t.jsx)("br",{}),Object(t.jsx)("time",{children:q(s.created)})," ago"]}),r&&[1,2,3,4,5].map((function(e){return Object(t.jsx)(L,{},e)}))]}),Object(t.jsx)("div",{className:"card-footer",children:Object(t.jsx)("div",{className:"column is-12",children:Object(t.jsx)(F,{})})})]})}function M(){return C({url:"/posts",method:"GET"})}function U(e){return C({url:"/posts",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:e})}function z(){var e=Object(j.g)(),s=Object(a.useContext)(P),c=s.user,n=s.defaultAvatar,i=Object(a.useState)(null),l=Object(m.a)(i,2),r=l[0],d=l[1],h=Object(a.useState)(""),u=Object(m.a)(h,2),O=u[0],x=u[1],p=Object(a.useState)(""),f=Object(m.a)(p,2),v=f[0],N=f[1],g=Object(a.useState)(!1),w=Object(m.a)(g,2),y=w[0],C=w[1];function k(){return(k=Object(b.a)(o.a.mark((function s(t){var a;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t.preventDefault(),c.picture||e.push("/profile"),!O||!v){s.next=21;break}return C(!0),(a=new FormData).append("photo",r,r.name),a.append("description",v),a.append("user_id",c.id),s.prev=8,s.next=11,U(a);case 11:N(""),d({}),x(""),s.next=18;break;case 16:s.prev=16,s.t0=s.catch(8);case 18:return s.prev=18,C(!1),s.finish(18);case 21:case"end":return s.stop()}}),s,null,[[8,16,18,21]])})))).apply(this,arguments)}return Object(t.jsxs)("div",{className:"card",children:[Object(t.jsx)("header",{className:"card-header",children:Object(t.jsx)("p",{className:"card-header-title",children:"Create a new post"})}),Object(t.jsxs)("div",{className:"card-content",children:[Object(t.jsxs)("article",{className:"media",children:[Object(t.jsx)("figure",{className:"media-left image is-48x48",children:Object(t.jsx)("img",{className:"is-rounded",src:c.picture||n})}),Object(t.jsx)("div",{className:"media-content",children:Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("p",{className:"control ".concat(y?"is-loading":""),children:Object(t.jsx)("textarea",{className:"textarea",onChange:function(e){N(e.target.value)},rows:"3",placeholder:"Add a description..."})})})})]}),Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{id:"photo",className:"file-input",onChange:function(e){d(e.target.files[0]),x(e.target.files[0].name.slice(0,10))},type:"file",name:"resume"})})})]}),Object(t.jsxs)("footer",{className:"card-footer",children:[Object(t.jsxs)("label",{htmlFor:"photo",className:"card-footer-item file-label",children:[Object(t.jsx)("i",{className:"material-icons",children:"perm_media"}),"\xa0",O?O+"...":"Add photo"]}),y?Object(t.jsxs)("a",{className:"card-footer-item button is-white is-loading",children:[Object(t.jsx)("i",{className:"material-icons",children:"send"}),"\xa0Publish"]}):Object(t.jsxs)("a",{onClick:function(e){return k.apply(this,arguments)},className:"card-footer-item",children:[Object(t.jsx)("i",{className:"material-icons",children:"send"}),"\xa0Publish"]})]})]})}var B=Object(a.createContext)(),R=function(e){var s=e.children,c=Object(a.useState)([]),n=Object(m.a)(c,2),i=n[0],l=n[1],r={posts:i,getPostList:function(){var e=Object(b.a)(o.a.mark((function e(){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:s=e.sent,l(s.results),Promise.resolve(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return Object(t.jsx)(B.Provider,{value:r,children:s})};function I(){var e=Object(a.useContext)(B),s=e.posts,c=e.getPostList;return Object(a.useEffect)((function(){Object(b.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(t.jsx)(E,{children:Object(t.jsx)("section",{className:"section",children:Object(t.jsx)("div",{className:"columns body-columns",children:Object(t.jsxs)("div",{className:"column is-half is-offset-one-quarter",children:[Object(t.jsx)(z,{}),s.map((function(e,s){return Object(t.jsx)(_,{post:e},s)}))]})})})})}c(66);function J(){var e=Object(j.g)(),s=Object(a.useState)(""),c=Object(m.a)(s,2),n=c[0],i=c[1],l=Object(a.useState)(""),d=Object(m.a)(l,2),h=d[0],u=d[1],O=Object(a.useState)(!1),x=Object(m.a)(O,2),p=x[0],f=x[1],v=Object(a.useContext)(P).authenticate;function N(){return(N=Object(b.a)(o.a.mark((function s(c){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c.preventDefault(),f(!0),s.prev=2,s.next=5,v({username:n,password:h});case 5:e.push("/"),s.next=10;break;case 8:s.prev=8,s.t0=s.catch(2);case 10:return s.prev=10,f(!1),s.finish(10);case 13:case"end":return s.stop()}}),s,null,[[2,8,10,13]])})))).apply(this,arguments)}return Object(t.jsx)("section",{className:"hero is-fullheight",children:Object(t.jsx)("div",{className:"hero-body has-text-centered",children:Object(t.jsxs)("div",{className:"login",children:[Object(t.jsx)("img",{src:"https://logoipsum.com/logo/logo-12.svg",width:"325px"}),Object(t.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input is-rounded",type:"text",placeholder:"Username",autoComplete:"username",onChange:function(e){i(e.target.value)},required:!0})})}),Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input is-rounded",type:"password",placeholder:"**********",onChange:function(e){u(e.target.value)},autoComplete:"current-password",required:!0})})}),Object(t.jsx)("div",{className:"field",children:Object(t.jsxs)("label",{className:"checkbox",children:[Object(t.jsx)("input",{type:"checkbox"})," Remember me"]})}),Object(t.jsx)("button",{className:"button is-block is-fullwidth is-primary is-medium is-rounded ".concat(p?"is-loading":""),type:"submit",children:"Login"})]}),Object(t.jsx)("br",{}),Object(t.jsxs)("nav",{className:"level",children:[Object(t.jsx)("div",{className:"level-item has-text-centered",children:Object(t.jsx)("div",{children:Object(t.jsx)("a",{href:"#",children:"Forgot Password?"})})}),Object(t.jsx)("div",{className:"level-item has-text-centered",children:Object(t.jsx)("div",{children:Object(t.jsx)(r.b,{to:"/register",children:"Create an Account"})})})]})]})})})}var Y=c(13),G=c(6),H=c(17);function K(e){var s=e.type,c=void 0===s?"text":s,a=e.name,n=e.autocomplete,i=e.placeholder,l=e.required,r=void 0===l||l,j=Object(H.a)(e,["type","name","autocomplete","placeholder","required"]);return Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input is-rounded",onChange:j.onChange,name:a,autoComplete:n,type:c,required:r,placeholder:i})})})}c(67);function Q(){var e=Object(j.g)(),s=Object(a.useState)(!1),c=Object(m.a)(s,2),n=c[0],i=c[1],l=Object(a.useState)({username:"",fullname:"",email:"",password:"",password_confirm:""}),d=Object(m.a)(l,2),h=d[0],u=d[1];function O(e){var s=e.target.value,c=e.target.name;u(Object(G.a)(Object(G.a)({},h),{},Object(Y.a)({},c,s)))}var x=function(){var s=Object(b.a)(o.a.mark((function s(c){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c.preventDefault(),i(!0),s.prev=2,s.next=5,C({url:"/accounts/register/",method:"POST",public:!0,data:h});case 5:e.push("/"),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(2),console.log(s.t0);case 11:return s.prev=11,i(!1),s.finish(11);case 14:case"end":return s.stop()}}),s,null,[[2,8,11,14]])})));return function(e){return s.apply(this,arguments)}}();return Object(t.jsx)("section",{className:"section container",children:Object(t.jsxs)("div",{className:"columns is-multiline",children:[Object(t.jsx)("div",{className:"column is-8 is-offset-2 register ",children:Object(t.jsxs)("div",{className:"columns",children:[Object(t.jsxs)("div",{className:"column left is-hidden-mobile",children:[Object(t.jsx)("img",{src:"https://logoipsum.com/logo/logo-12.svg"}),Object(t.jsx)("h2",{className:"subtitle colored is-4",children:"Lorem ipsum dolor sit amet."}),Object(t.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Corporis ex deleniti aliquam tempora libero excepturi vero soluta odio optio sed."})]}),Object(t.jsxs)("div",{className:"column right has-text-centered",children:[Object(t.jsx)("h1",{className:"title is-4",children:"Sign up today"}),Object(t.jsx)("p",{className:"description",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit"}),Object(t.jsxs)("form",{onSubmit:x,children:[Object(t.jsx)(K,{autocomplete:"username",placeholder:"Username",name:"username",onChange:O}),Object(t.jsx)(K,{autocomplete:"fullname",placeholder:"Full name",name:"fullname",onChange:O}),Object(t.jsx)(K,{autocomplete:"email",type:"email",placeholder:"Email",name:"email",onChange:O}),Object(t.jsx)(K,{autocomplete:"password",type:"password",placeholder:"Password",name:"password",onChange:O}),Object(t.jsx)(K,{autocomplete:"password_confirm",type:"password",placeholder:"Confirm",name:"password_confirm",onChange:O}),Object(t.jsx)("button",{className:"button is-rounded is-block is-primary is-fullwidth ".concat(n?"is-loading":""),children:"Submit"}),Object(t.jsx)("br",{}),Object(t.jsxs)("small",{children:["Already have an account? ",Object(t.jsx)(r.b,{to:"/login",children:"Login"})]})]})]})]})}),Object(t.jsxs)("div",{className:"column is-8 is-offset-2",children:[Object(t.jsx)("br",{}),Object(t.jsxs)("nav",{className:"level",children:[Object(t.jsx)("div",{className:"level-left",children:Object(t.jsxs)("div",{className:"level-item",children:[Object(t.jsx)("span",{className:"icon",children:Object(t.jsx)("i",{className:"fab fa-twitter"})})," ","\u2003",Object(t.jsx)("span",{className:"icon",children:Object(t.jsx)("i",{className:"fab fa-facebook"})})," ","\u2003",Object(t.jsx)("span",{className:"icon",children:Object(t.jsx)("i",{className:"fab fa-instagram"})})," ","\u2003",Object(t.jsx)("span",{className:"icon",children:Object(t.jsx)("i",{className:"fab fa-github"})})," ","\u2003",Object(t.jsx)("span",{className:"icon",children:Object(t.jsx)("i",{className:"fas fa-envelope"})})]})}),Object(t.jsx)("div",{className:"level-right",children:Object(t.jsx)("small",{className:"level-item",children:"\xa9 logoipsum. All Rights Reserved."})})]})]})]})})}c(32),c(33);function V(e){var s=e.children,c=Object(a.useContext)(P),n=c.user,i=c.defaultAvatar;return Object(t.jsx)("section",{className:"section container",children:Object(t.jsxs)("div",{className:"columns",children:[Object(t.jsx)("div",{className:"column is-4 ",children:Object(t.jsx)("aside",{className:"menu",children:Object(t.jsx)("ul",{className:"menu-list",children:Object(t.jsxs)("div",{className:"card box has-text-centered",children:[Object(t.jsx)("figure",{className:"avatar",children:Object(t.jsx)("img",{width:"200",src:n.picture||i})}),Object(t.jsxs)("div",{className:"media-content",children:[Object(t.jsx)("p",{className:"title is-4",children:n.fullname}),Object(t.jsxs)("p",{className:"subtitle is-6",children:["@",n.username]}),Object(t.jsx)("ul",{className:"has-text-left",children:Object(t.jsxs)("li",{children:[Object(t.jsx)("span",{className:"icon",children:Object(t.jsx)("i",{className:"fas fa-envelope","aria-hidden":"true"})}),"\xa0 ",n.email]})})]}),Object(t.jsx)("br",{}),Object(t.jsxs)("footer",{className:"card-footer",children:[Object(t.jsx)("div",{className:"card-footer-item",children:Object(t.jsxs)("span",{className:"icon",children:[Object(t.jsx)("i",{className:"fas fa-image"}),"\xa00"]})}),Object(t.jsx)("div",{className:"card-footer-item",children:Object(t.jsxs)("span",{className:"icon",children:[Object(t.jsx)("i",{className:"fas fa-heart"}),"\xa00"]})})]})]})})})}),s]})})}function W(e){var s=e.post;return Object(t.jsxs)("article",{className:"media box",children:[Object(t.jsx)("div",{className:"media-left",children:Object(t.jsx)("p",{className:"image is-64x64",children:Object(t.jsx)("img",{src:s.photo})})}),Object(t.jsxs)("div",{className:"media-content",children:[Object(t.jsxs)("div",{className:"content",children:[Object(t.jsx)("strong",{children:s.user.fullname})," ",Object(t.jsxs)("span",{children:["@",s.user.username]})," ",Object(t.jsxs)("small",{className:"has-text-grey",children:[Object(t.jsx)("time",{children:q(s.created)})," ago"]}),Object(t.jsx)("br",{}),s.description]}),Object(t.jsx)("nav",{className:"level is-mobile",children:Object(t.jsxs)("div",{className:"level-left",children:["\xa0 \xa0",Object(t.jsx)("a",{className:"level-item",children:Object(t.jsxs)("span",{className:"icon is-small",children:[Object(t.jsx)("i",{className:"fas fa-comments"})," 10"]})}),"\xa0 \xa0",Object(t.jsx)("a",{className:"level-item has-text-danger",children:Object(t.jsxs)("span",{className:"icon is-small",children:[Object(t.jsx)("i",{className:"fas fa-heart"})," 1"]})})]})})]}),Object(t.jsx)("div",{className:"media-right",children:Object(t.jsx)("button",{className:"delete"})}),Object(t.jsx)("hr",{})]})}function X(){var e=Object(a.useContext)(P),s=e.user,c=e.setUser,n=Object(a.useState)({}),i=Object(m.a)(n,2),l=i[0],r=i[1],j=Object(a.useState)(!1),d=Object(m.a)(j,2),h=d[0],u=d[1],O=Object(a.useState)({id:null,picture:"",address:"",phone:""}),x=Object(m.a)(O,2),p=x[0],f=x[1];function v(e){var s=e.target.value,c=e.target.name;f(Object(G.a)(Object(G.a)({},p),{},Object(Y.a)({},c,s)))}function N(){return(N=Object(b.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(!0),e.prev=2,a=new FormData,l.name&&a.append("picture",l,l.name),a.append("email",s.email),a.append("username",s.username),a.append("address",p.address),a.append("phone",p.phone),e.next=11,S(s.id,a);case 11:n=e.sent,c(n),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:return e.prev=17,u(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,15,17,20]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){f(s),console.log(s)}),[]),Object(t.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(t.jsx)("h3",{children:"Profile"}),Object(t.jsxs)("div",{className:"field is-horizontal",children:[Object(t.jsx)("div",{className:"field-label",children:Object(t.jsx)("label",{className:"label",children:"Avatar"})}),Object(t.jsx)("div",{className:"field-body",children:Object(t.jsx)("div",{className:"file has-name",children:Object(t.jsxs)("label",{className:"file-label",children:[Object(t.jsx)("input",{className:"file-input",type:"file",name:"resume",onChange:function(e){r(e.target.files[0])}}),Object(t.jsxs)("span",{className:"file-cta",children:[Object(t.jsx)("span",{className:"file-icon",children:Object(t.jsx)("i",{className:"fas fa-upload"})}),Object(t.jsx)("span",{className:"file-label",children:"Change avatar"})]}),l.name&&Object(t.jsx)("span",{className:"file-name",children:l.name})]})})})]}),Object(t.jsxs)("div",{className:"field is-horizontal",children:[Object(t.jsx)("div",{className:"field-label is-normal",children:Object(t.jsx)("label",{className:"label",children:"Address"})}),Object(t.jsx)("div",{className:"field-body",children:Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input",type:"text",placeholder:"Address",name:"address",onChange:v,value:p.address})})})})]}),Object(t.jsxs)("div",{className:"field is-horizontal",children:[Object(t.jsx)("div",{className:"field-label is-normal",children:Object(t.jsx)("label",{className:"label",children:"Phone"})}),Object(t.jsx)("div",{className:"field-body",children:Object(t.jsx)("div",{className:"field is-expanded",children:Object(t.jsxs)("div",{className:"field has-addons",children:[Object(t.jsx)("p",{className:"control",children:Object(t.jsx)("a",{className:"button is-static",children:"+52"})}),Object(t.jsx)("p",{className:"control is-expanded",children:Object(t.jsx)("input",{className:"input",type:"tel",placeholder:"Your phone number",name:"phone",onChange:v,value:p.phone})})]})})})]}),Object(t.jsxs)("div",{className:"field is-horizontal",children:[Object(t.jsx)("div",{className:"field-label"}),Object(t.jsx)("div",{className:"field-body",children:Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("button",{className:"button is-primary ".concat(h?"is-loading":""),children:"Save changes"})})})})]})]})}function Z(){var e=Object(a.useContext)(P).user,s=Object(a.useState)({username:"",fullname:"",email:""}),c=Object(m.a)(s,2),n=c[0],i=c[1];function l(e){var s=e.target.value,c=e.target.name;i(Object(G.a)(Object(G.a)({},n),{},Object(Y.a)({},c,s)))}return Object(a.useEffect)((function(){i(e)}),[]),Object(t.jsxs)("form",{children:[Object(t.jsx)("h3",{children:"Basic Info"}),Object(t.jsxs)("div",{className:"field is-horizontal",children:[Object(t.jsx)("div",{className:"field-label is-normal",children:Object(t.jsx)("label",{className:"label",children:"Account"})}),Object(t.jsxs)("div",{className:"field-body",children:[Object(t.jsx)("div",{className:"field",children:Object(t.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(t.jsx)("input",{className:"input",type:"text",placeholder:"Username",name:"username",onChange:l,value:n.username}),Object(t.jsx)("span",{className:"icon is-small is-left",children:Object(t.jsx)("i",{className:"fas fa-user"})})]})}),Object(t.jsx)("div",{className:"field",children:Object(t.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(t.jsx)("input",{className:"input is-success",type:"email",placeholder:"Email",name:"email",onChange:l,value:n.email}),Object(t.jsx)("span",{className:"icon is-small is-left",children:Object(t.jsx)("i",{className:"fas fa-envelope"})})]})})]})]}),Object(t.jsxs)("div",{className:"field is-horizontal",children:[Object(t.jsx)("div",{className:"field-label is-normal",children:Object(t.jsx)("label",{className:"label",children:"Fullname"})}),Object(t.jsx)("div",{className:"field-body",children:Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("p",{className:"control is-expanded",children:Object(t.jsx)("input",{className:"input",type:"text",placeholder:"First name",name:"fullname",onChange:l,value:n.fullname})})})})]}),Object(t.jsxs)("div",{className:"field is-horizontal",children:[Object(t.jsx)("div",{className:"field-label"}),Object(t.jsx)("div",{className:"field-body",children:Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("button",{className:"button is-primary",children:"Save changes"})})})})]})]})}function $(){var e=Object(a.useState)(!1),s=Object(m.a)(e,2),c=s[0],n=s[1],i=Object(a.useState)([]),l=Object(m.a)(i,2),r=l[0],j=l[1];function d(){n(!c)}return Object(a.useEffect)((function(){M().then((function(e){j(e.results)}))}),[]),Object(t.jsxs)(E,{children:[Object(t.jsx)("br",{}),Object(t.jsx)(V,{children:Object(t.jsxs)("div",{className:"column is-8",children:[Object(t.jsx)("div",{className:"tabs is-centered is-boxed is-medium",children:Object(t.jsxs)("ul",{children:[Object(t.jsx)("li",{className:"".concat(c?"":"is-active"),children:Object(t.jsxs)("a",{onClick:d,children:[Object(t.jsx)("span",{className:"icon is-small",children:Object(t.jsx)("i",{className:"fas fa-image","aria-hidden":"true"})}),Object(t.jsx)("span",{children:"Posts"})]})}),Object(t.jsx)("li",{className:"".concat(c?"is-active":""),children:Object(t.jsxs)("a",{onClick:d,children:[Object(t.jsx)("span",{className:"icon is-small",children:Object(t.jsx)("i",{className:"fas fa-cog","aria-hidden":"true"})}),Object(t.jsx)("span",{children:"Edit Profile"})]})})]})}),Object(t.jsx)("div",{className:"box content",children:c?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(Z,{}),Object(t.jsx)(X,{})]}):Object(t.jsxs)(t.Fragment,{children:[" ",r.length?r.map((function(e){return Object(t.jsx)(W,{post:e},e.uuid)})):Object(t.jsx)("div",{className:"notification is-link",children:Object(t.jsxs)("article",{className:"media",children:[Object(t.jsx)("div",{className:"media-left",children:Object(t.jsx)("span",{className:"icon",children:Object(t.jsx)("i",{className:"fas fa-sad-tear"})})}),Object(t.jsxs)("div",{className:"media-content",children:["Nothing's here\u2026"," ",Object(t.jsx)("strong",{children:"You do not have any post yet"}),"."]}),Object(t.jsx)("div",{className:"media-right"})]})})]})})]})})]})}var ee=function(e){var s=e.component,c=e.auth,a=Object(H.a)(e,["component","auth"]);return N()?(console.log(window.location.href),Object(t.jsx)(j.b,Object(G.a)(Object(G.a)({},a),{},{render:function(e){return Object(t.jsx)(s,Object(G.a)({},e))}}))):Object(t.jsx)(j.b,Object(G.a)(Object(G.a)({},a),{},{render:function(e){return c?Object(t.jsx)(s,Object(G.a)({},e)):Object(t.jsx)(j.a,{to:"/login"})}}))};function se(){var e=Object(a.useContext)(P).isAuthenticated;return Object(t.jsx)(r.a,{children:Object(t.jsxs)(j.d,{children:[Object(t.jsx)(j.b,{path:"/register",children:Object(t.jsx)(Q,{})}),Object(t.jsx)(j.b,{path:"/login",children:Object(t.jsx)(J,{})}),Object(t.jsx)(ee,{path:"/profile",component:$,auth:e}),Object(t.jsx)(ee,{path:"/",component:I,auth:e})]})})}l.a.render(Object(t.jsx)(n.a.StrictMode,{children:Object(t.jsx)(A,{children:Object(t.jsx)(R,{children:Object(t.jsx)(se,{})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.986d46f9.chunk.js.map