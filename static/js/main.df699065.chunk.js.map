{"version":3,"sources":["util/auth.js","util/axios.js","api/users.js","context/auth.js","components/Navbar.js","components/Footer.js","layouts/Main.js","api/posts.js","util/time.js","components/AddComment.js","components/Comment.js","components/ConfirmDelete.js","components/PostOptions.js","components/Post.js","components/NewPost.js","context/posts.js","pages/Home.js","components/Input.js","pages/Login.js","pages/Register.js","layouts/Profile.js","components/PostPreview.js","components/ProfileForm.js","components/AccountForm.js","pages/Profile.js","router/GuardedRoute.js","router/index.js","index.js"],"names":["TokenKey","RefreshKey","getToken","Cookies","get","setRefreshToken","token","set","decodeToken","jwtDecode","_axios","axios","create","baseURL","mode","credentials","timeout","interceptors","request","use","config","public","headers","Authorization","response","res","data","error","Promise","reject","login","url","method","updateProfile","id","AuthContext","createContext","AuthContextProvider","children","useState","isAuthenticated","setIsAuthenticated","user","setUser","authenticate","a","access","refresh","resolve","getUser","contextValue","defaultAvatar","logout","remove","Provider","value","Navbar","history","useHistory","useContext","className","to","src","onClick","push","Footer","href","Main","useEffect","createPost","createComment","getPostComments","timeSince","date","seconds","Math","floor","Date","interval","AddComment","post_id","onComment","message","setMessage","e","preventDefault","trim","user_id","picture","onSubmit","rows","onChange","target","placeholder","Comment","comment","fullname","created","ConfirmDelete","showModal","setShowModal","toggleModal","PostOptions","showOptions","setShowOptions","role","Post","post","showComments","setShowComment","comments","setComments","isLiked","setIsLiked","toggleComments","uuid","results","alt","username","photo","description","map","NewPost","selectedFile","setSelectedFile","filename","setFilename","setDescription","isLoading","setIsloading","form_data","FormData","append","name","aria-hidden","accept","files","slice","type","htmlFor","PostContext","PostContextProvider","posts","setPosts","getPostList","Home","i","Input","autocomplete","required","icon","isPassword","props","showPassword","setShowPassword","autoComplete","Login","setUsername","password","setPassword","setIsLoading","width","Register","errors","setErrors","email","password_confirm","val","attr","Object","entries","length","Profile","PostPreview","ProfileForm","address","phone","form","setForm","console","log","ProfileReview","params","match","isEdit","setIsEdit","toggleTab","then","GuardedRoute","Component","component","auth","rest","window","location","render","App","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df699065.chunk.js","sourcesContent":["import Cookies from 'js-cookie'\nimport jwtDecode from 'jwt-decode'\n\nconst TokenKey = 'Access-Token'\nconst RefreshKey = 'Refresh-Token'\n\nexport function getToken () {\n  return Cookies.get(TokenKey)\n}\n\nexport function getRefreshToken () {\n  return Cookies.get(RefreshKey)\n}\n\nexport function setToken (token) {\n  Cookies.set(TokenKey, token)\n}\n\nexport function setRefreshToken (token) {\n  Cookies.set(RefreshKey, token)\n}\n\nexport function removeToken () {\n  Cookies.remove(TokenKey)\n}\n\nexport function removeRefreshToken () {\n  Cookies.remove(RefreshKey)\n}\n\nexport function decodeToken (token) {\n  return jwtDecode(token)\n}\n","import axios from 'axios'\nimport { getToken } from './auth'\n\n// create singleton for axios\nconst _axios = axios.create({\n  baseURL:\n    process.env.NODE_ENV === 'development'\n      ? 'http://localhost:8000/api/v1'\n      : 'https://petgram-demo.herokuapp.com/api/v1',\n  mode: 'cors',\n  credentials: 'same-origin',\n  timeout: 20000\n})\n\n_axios.interceptors.request.use(config => {\n  const token = getToken()\n  if (!config.public) {\n    config.headers.Authorization = 'Bearer ' + token\n  }\n  return config\n})\n\n// response interceptor\n_axios.interceptors.response.use(\n  res => {\n    return res.data\n  },\n  error => {\n    return Promise.reject(error.response.data)\n  }\n)\n\nexport default _axios\n","import request from '../util/axios'\n\nexport function login (data) {\n  return request({\n    url: '/token/access/',\n    method: 'POST',\n    public: true,\n    data\n  })\n}\n\nexport function register (data) {\n  return request({\n    url: '/accounts/register/',\n    method: 'POST',\n    public: true,\n    data\n  })\n}\n\nexport function getUserInfo (id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'GET'\n  })\n}\n\nexport function updateProfile (id, data) {\n  return request({\n    url: `/users/${id}`,\n    headers: { 'Content-Type': 'multipart/form-data' },\n    method: 'PUT',\n    data\n  })\n}\n\nexport function getUserPosts (id) {\n  return request({\n    url: `/users/${id}/posts`,\n    method: 'GET'\n  })\n}\n\n","import React, { createContext, useState } from 'react'\nimport { login, getUserInfo } from '../api/users'\nimport {\n  decodeToken,\n  getToken,\n  removeRefreshToken,\n  removeToken,\n  setRefreshToken,\n  setToken\n} from '../util/auth'\n\nexport const AuthContext = createContext()\n\nexport const AuthContextProvider = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [user, setUser] = useState({})\n  const defaultAvatar =\n    'https://cooplaaurora.com/resources/members/default-user.jpg'\n\n  const authenticate = async data => {\n    const res = await login(data)\n    setToken(res.access)\n    setRefreshToken(res.refresh)\n    setIsAuthenticated(true)\n    Promise.resolve(res)\n  }\n\n  const logout = () => {\n    removeToken()\n    removeRefreshToken()\n    setIsAuthenticated(false)\n    setUser({})\n  }\n\n  const getUser = async () => {\n    const token = getToken()\n    const data = decodeToken(token)\n    const user = await getUserInfo(data.id)\n    setUser(user)\n    Promise.resolve(user)\n  }\n\n  const contextValue = {\n    user,\n    isAuthenticated,\n    defaultAvatar,\n    getUser,\n    setUser,\n    setIsAuthenticated,\n    authenticate,\n    logout\n  }\n\n  // Global data with Context Provider\n  return (\n    <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\n  )\n}\n","import { useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { AuthContext } from '../context/auth'\n\nexport default function Navbar () {\n  const history = useHistory()\n  const { user, logout } = useContext(AuthContext)\n\n  function handleLogout () {\n    logout()\n    history.push('/login')\n  }\n  return (\n    <div className='navbar is-inline-flex is-transparent'>\n      <div className='navbar-brand'>\n        <Link to='/' className='navbar-item'>\n          <img src='/petgram-demo/logo.png' />\n        </Link>\n      </div>\n      <div className='navbar-menu'>\n        <div className='navbar-item'>\n          {/* <div className='control has-icons-left'>\n            <input\n              className='input is-rounded is-small has-text-centered'\n              type='text'\n              placeholder='search'\n            />\n            <span className='icon is-left is-small'>\n              <i className='material-icons'>search</i>\n            </span>\n          </div> */}\n        </div>\n      </div>\n      <div className='navbar-item is-flex-touch'>\n        <Link className='navbar-item' to='/'>\n          <i className='material-icons'>home</i>\n        </Link>\n        <Link to={'/profile/' + user.id} className='navbar-item'>\n          <i className='material-icons'>person_outline</i>\n        </Link>\n        <a className='navbar-item' onClick={handleLogout}>\n          <i className='material-icons has-text-danger'>logout</i>\n        </a>\n      </div>\n    </div>\n  )\n}\n","export default function Footer () {\n  return (\n    <footer className='footer'>\n      <div className='container is-fluid'>\n        <div className='content has-text-centered'>\n          <p>\n            <strong>Petgram</strong> by &nbsp;\n            <a href='https://rnovec.github.io'>Raúl Novelo</a>. The source code\n            is licensed &nbsp;\n            <a href='http://opensource.org/licenses/mit-license.php'>MIT</a>.\n            The website content is licensed &nbsp;\n            <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>\n              CC BY NC SA 4.0\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n","import React, { useContext, useEffect } from 'react'\nimport Navbar from '../components/Navbar'\nimport Footer from '../components/Footer'\nimport { AuthContext } from '../context/auth'\nimport '../css/index.css'\n\nexport default function Main ({ children }) {\n  const { getUser } = useContext(AuthContext)\n  useEffect(() => {\n    getUser()\n  }, [])\n  return (\n    <>\n      <Navbar />\n      {children}\n      <Footer />\n    </>\n  )\n}\n","import request from '../util/axios'\n\nexport function getPosts () {\n  return request({\n    url: '/posts',\n    method: 'GET'\n  })\n}\n\nexport function createPost (data) {\n  return request({\n    url: '/posts',\n    method: 'POST',\n    headers: { 'Content-Type': 'multipart/form-data' },\n    data\n  })\n}\n\nexport function createComment (data) {\n  return request({\n    url: '/comments',\n    method: 'POST',\n    data\n  })\n}\n\nexport function getPostComments (id) {\n  return request({\n    url: `/posts/${id}/comments`,\n    method: 'GET'\n  })\n}\n\n\nexport function removePost (id) {\n  return request({\n    url: `/posts/${id}`,\n    method: 'DELETE'\n  })\n}\n","/**\n * Show plural label if time is plural number\n * @param {number} time\n * @param {string} label\n * @return {string}\n */\nfunction pluralize (time, label) {\n  if (time === 1) {\n    return time + label\n  }\n  return time + label + 's'\n}\n\n/**\n * Unused time ago filter\n * @param {number} time\n */\nexport function timeAgo (time) {\n  const between = Date.now() / 1000 - Number(time)\n  if (between < 3600) {\n    return pluralize(~~(between / 60), ' minute')\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), ' hour')\n  } else {\n    return pluralize(~~(between / 86400), ' day')\n  }\n}\n\n/**\n * Time since filter\n * @param {string} date \n */\nexport function timeSince (date) {\n  var seconds = Math.floor((new Date() - new Date(date)) / 1000)\n\n  var interval = seconds / 31536000\n\n  if (interval > 1) {\n    return Math.floor(interval) + ' years'\n  }\n  interval = seconds / 2592000\n  if (interval > 1) {\n    return Math.floor(interval) + ' months'\n  }\n  interval = seconds / 86400\n  if (interval > 1) {\n    return Math.floor(interval) + ' days'\n  }\n  interval = seconds / 3600\n  if (interval > 1) {\n    return Math.floor(interval) + ' hours'\n  }\n  interval = seconds / 60\n  if (interval > 1) {\n    return Math.floor(interval) + ' minutes'\n  }\n  return Math.floor(seconds) + ' seconds'\n}\n","import { useContext, useState } from 'react'\nimport { createComment } from '../api/posts'\nimport { AuthContext } from '../context/auth'\n\nexport default function AddComment ({ post_id, onComment }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [message, setMessage] = useState('')\n\n  function onChangeMessage (e) {\n    e.preventDefault()\n    setMessage(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    if (message.trim()) {\n      await createComment({\n        user_id: user.id,\n        post_id,\n        message\n      })\n      setMessage('')\n      onComment()\n    }\n  }\n\n  return (\n    <article className='media'>\n      <figure className='media-left'>\n        <p className='image is-48x48'>\n          <img className='is-rounded' src={user.picture || defaultAvatar} />\n        </p>\n      </figure>\n      <div className='media-content'>\n        <form onSubmit={onSubmit}>\n          <div className='field'>\n            <p className='control'>\n              <textarea\n                className='textarea'\n                rows='3'\n                onChange={onChangeMessage}\n                placeholder='Add a comment...'\n              ></textarea>\n            </p>\n          </div>\n          <div className='field'>\n            <p className='control'>\n              <button className='button is-primary is-fullwidth'>\n                Post comment\n              </button>\n            </p>\n          </div>\n        </form>\n      </div>\n    </article>\n  )\n}\n","import { useContext } from 'react'\nimport { AuthContext } from '../context/auth'\nimport { timeSince } from '../util/time'\n\n\nexport default function Comment({ comment }) {\n  const { defaultAvatar } = useContext(AuthContext)\n\n  return (\n    <article className='media'>\n      <figure className='media-left'>\n        <p className='image is-32x32'>\n          <img className='is-rounded' src={comment.user.picture || defaultAvatar} />\n        </p>\n      </figure>\n      <div className='media-content'>\n        <div className='content'>\n          <p>\n            <strong>{comment.user.fullname}</strong>\n            <br />\n            {comment.message}\n            <br />\n            <small className='has-text-grey'>\n              <a href=\"#add-comment\">Reply</a> · {timeSince(comment.created)} ago\n            </small>\n          </p>\n        </div>\n        {/* \n        <article className='media'>\n          Vivamus quis semper metus, non tincidunt dolor. Vivamus in mi eu lorem\n          cursus ullamcorper sit amet nec massa.\n        </article>\n\n        <article className='media'>\n          Morbi vitae diam et purus tincidunt porttitor vel vitae augue.\n          Praesent malesuada metus sed pharetra euismod. Cras tellus odio,\n          tincidunt iaculis diam non, porta aliquet tortor.\n        </article> */}\n      </div>\n    </article>\n  )\n}\n","import { useState } from 'react'\n\nexport function ConfirmDelete () {\n  const [showModal, setShowModal] = useState(false)\n  function toggleModal(e) {\n    e.preventDefault();\n    setShowModal(!showModal)\n  }\n  return (\n    <>\n      <a onClick={toggleModal} className='dropdown-item has-text-danger'>\n        Delete post\n      </a>\n      <div className={`modal ${showModal ? 'is-active' : ''}`}>\n        <div className='modal-background'></div>\n        <div className='modal-card'>\n          <header className='modal-card-head'>\n            <p className='modal-card-title'>Are you sure?</p>\n          </header>\n          <section className='modal-card-body'>\n            This action will <b>permanently destroy the post</b>.\n          </section>\n          <footer className='modal-card-foot has-text-left'>\n            <button className='button is-danger'>Remove</button>\n            <button className='button' onClick={toggleModal}>\n              Cancel\n            </button>\n          </footer>\n        </div>\n      </div>\n    </>\n  )\n}\n","import { useState } from 'react'\nimport { ConfirmDelete } from './ConfirmDelete'\n\nexport default function PostOptions () {\n  const [showOptions, setShowOptions] = useState(false)\n  function toggleOptions (e) {\n    e.preventDefault()\n    setShowOptions(!showOptions)\n  }\n  return (\n    <div className={`dropdown ${showOptions ? 'is-active' : ''} is-right`}>\n      <div className='dropdown-trigger'>\n        <a href='' onClick={toggleOptions}>\n          <i className='material-icons'>more_vert</i>\n        </a>\n      </div>\n      <div className='dropdown-menu' id='dropdown-menu3' role='menu'>\n        <div className='dropdown-content'>\n          <a href='#' className='dropdown-item'>\n            Edit\n          </a>\n          <a href='#' className='dropdown-item'>\n            Share\n          </a>\n          <hr className='dropdown-divider' />\n          <ConfirmDelete/>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useContext, useState } from 'react'\nimport { getPostComments } from '../api/posts'\nimport { AuthContext } from '../context/auth'\nimport { timeSince } from '../util/time'\nimport AddComment from './AddComment'\nimport Comment from './Comment'\nimport PostOptions from './PostOptions'\n\nexport default function Post ({ post }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [showComments, setShowComment] = useState(false)\n  const [comments, setComments] = useState([])\n  const [isLiked, setIsLiked] = useState(false)\n\n  async function toggleComments (e) {\n    const res = await getPostComments(post.uuid)\n    setComments(res.results)\n    setShowComment(!showComments)\n  }\n\n  function likeDislike (e) {\n    setIsLiked(!isLiked)\n    e.preventDefault()\n  }\n\n  return (\n    <div className='card'>\n      <div className='header'>\n        <div className='media'>\n          <div className='media-left'>\n            <figure className='image is-48x48'>\n              <img\n                className='is-rounded'\n                src={post.user.picture || defaultAvatar}\n                alt='Placeholder'\n              />\n            </figure>\n          </div>\n          <div className='media-content'>\n            <p className='title is-4'>{post.user.fullname}</p>\n            <p className='subtitle is-6'>@{post.user.username}</p>\n          </div>\n          {user.id === post.user.id && (\n            <div className='media-right'>\n              <PostOptions />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className='card-image'>\n        <figure className='image is-4by3'>\n          <img src={post.photo} alt='Placeholder' />\n        </figure>\n      </div>\n      <div className='card-content'>\n        <div className='level is-mobile'>\n          <div className='level-left'>\n            <div className='level-item has-text-centered'>\n              <a onClick={likeDislike}>\n                <i className='material-icons has-text-danger'>\n                  {isLiked ? 'favorite' : 'favorite_border'}\n                </i>\n              </a>\n            </div>\n            <div className='level-item has-text-centered'>\n              <div>\n                <a onClick={toggleComments}>\n                  <i className='material-icons'>chat_bubble_outline</i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='content'>\n          <strong>32 Likes</strong>\n          <br />\n          {post.description}\n          {/* <a>@bulmaio</a>.<a href='#'>#css</a>\n          <a href='#'>#responsive</a> */}\n          <br />\n          <time>{timeSince(post.created)}</time> ago\n        </div>\n        {showComments &&\n          comments.map(comment => (\n            <Comment key={comment.uuid} comment={comment} />\n          ))}\n      </div>\n\n      <div id=\"add-comment\" className='card-footer'>\n        <div className='column is-12'>\n          <AddComment post_id={post.uuid} onComment={toggleComments} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useState, useContext } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { createPost } from '../api/posts'\nimport { AuthContext } from '../context/auth'\n\nexport default function NewPost () {\n  const history = useHistory()\n  const { user, defaultAvatar } = useContext(AuthContext)\n  const [selectedFile, setSelectedFile] = useState(null)\n  const [filename, setFilename] = useState('')\n  const [description, setDescription] = useState('')\n  const [isLoading, setIsloading] = useState(false)\n\n  function handleChange (e) {\n    setSelectedFile(e.target.files[0])\n    setFilename(e.target.files[0].name.slice(0, 10))\n  }\n\n  function onDescriptionChange (e) {\n    setDescription(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    if (!user.picture) history.push('/profile')\n    if (filename && description) {\n      setIsloading(true)\n      const form_data = new FormData()\n      form_data.append('photo', selectedFile, selectedFile.name)\n      form_data.append('description', description)\n      form_data.append('user_id', user.id)\n      try {\n        await createPost(form_data)\n        setDescription('')\n        setSelectedFile({})\n        setFilename('')\n      } catch (error) {\n      } finally {\n        setIsloading(false)\n      }\n    }\n  }\n\n  return (\n    <div className='card'>\n      <header className='card-header'>\n        <p className='card-header-title'>\n          <span className='icon is-medium'>\n            <i className='fas fa-image' aria-hidden='true'></i>\n          </span>\n          Create a new post\n        </p>\n      </header>\n      <div className='card-content'>\n        <article className='media'>\n          <figure className='media-left image is-48x48'>\n            <img className='is-rounded' src={user.picture || defaultAvatar} />\n          </figure>\n          <div className='media-content'>\n            <div className='field'>\n              <p className={`control ${isLoading ? 'is-loading' : ''}`}>\n                <textarea\n                  className='textarea'\n                  onChange={onDescriptionChange}\n                  rows='3'\n                  placeholder='Add a description...'\n                ></textarea>\n              </p>\n            </div>\n          </div>\n        </article>\n        <div className='field'>\n          <div className='control'>\n            <input\n              id='photo'\n              accept=\"image/png, image/jpeg\"\n              className='file-input'\n              onChange={handleChange}\n              type='file'\n              name='resume'\n            />\n          </div>\n        </div>\n      </div>\n      <footer className='card-footer'>\n        <label htmlFor='photo' className='card-footer-item file-label'>\n          <i className='material-icons'>perm_media</i>&nbsp;\n          {filename ? filename + '...' : 'Add photo'}\n        </label>\n        {isLoading ? (\n          <a className='card-footer-item button is-white is-loading'>\n            <i className='material-icons'>send</i>&nbsp;Publish\n          </a>\n        ) : (\n          <a onClick={onSubmit} className='card-footer-item'>\n            <i className='material-icons'>send</i>&nbsp;Publish\n          </a>\n        )}\n      </footer>\n    </div>\n  )\n}\n","import React, { createContext, useState } from 'react'\nimport { getPosts } from '../api/posts'\n\nexport const PostContext = createContext()\n\nexport const PostContextProvider = ({ children }) => {\n  const [posts, setPosts] = useState([])\n\n  const getPostList = async () => {\n    const data = await getPosts()\n      setPosts(data.results)\n      Promise.resolve(data)\n  }\n\n  const contextValue = {\n    posts,\n    getPostList\n  }\n\n  // Global data with Context Provider\n  return (\n    <PostContext.Provider value={contextValue}>\n      {children}\n    </PostContext.Provider>\n  )\n}\n","import React, { useContext, useEffect } from 'react'\nimport Main from '../layouts/Main'\nimport Post from '../components/Post'\nimport NewPost from '../components/NewPost'\nimport { PostContext } from '../context/posts'\nimport '../css/index.css'\n\nexport default function Home () {\n  const { posts, getPostList } = useContext(PostContext)\n\n  useEffect(() => {\n    ;(async () => {\n      await getPostList()\n    })()\n  }, [])\n  return (\n    <Main>\n      <section className='section'>\n        <div className='columns body-columns'>\n          <div className='column is-half is-offset-one-quarter'>\n            <NewPost />\n            {posts.map((post, i) => (\n              <Post post={post} key={i} />\n            ))}\n          </div>\n        </div>\n      </section>\n    </Main>\n  )\n}\n","import { useState } from 'react'\n\nexport default function Input ({\n  type = 'text',\n  name,\n  autocomplete,\n  placeholder,\n  value,\n  required,\n  icon,\n  isPassword,\n  ...props\n}) {\n  const [showPassword, setShowPassword] = useState(false)\n\n  function togglePassword () {\n    setShowPassword(!showPassword)\n  }\n\n  return (\n    <div className='field'>\n      <div\n        className={`control ${icon ? 'has-icons-left' : ''} has-icons-right`}\n      >\n        <input\n          className='input is-rounded'\n          onChange={props.onChange}\n          name={name}\n          autoComplete={autocomplete}\n          value={value}\n          type={isPassword && showPassword ? 'text' : type}\n          required={!!required}\n          placeholder={placeholder}\n        />\n        {icon && (\n          <span className='icon is-small is-left'>\n            <i className='material-icons'>{icon}</i>\n          </span>\n        )}\n        {isPassword && (\n          <span\n            className='icon is-small is-right is-clickable'\n            onClick={togglePassword}\n          >\n            <i className='material-icons'>\n              {showPassword ? 'visibility' : 'visibility_off'}\n            </i>\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport Input from '../components/Input'\nimport { AuthContext } from '../context/auth'\nimport '../css/login.css'\n\nexport default function Login () {\n  const history = useHistory()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const { authenticate } = useContext(AuthContext)\n\n  function onChangeUsername (e) {\n    setUsername(e.target.value)\n  }\n\n  function onChangePassword (e) {\n    setPassword(e.target.value)\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      await authenticate({ username, password })\n      history.push('/')\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <section className='hero is-fullheight'>\n      <div className='hero-body has-text-centered'>\n        <div className='login'>\n          <img\n            src='https://logoipsum.com/logo/logo-12.svg'\n            alt='login-logo'\n            width='325px'\n          />\n          <form onSubmit={onSubmit}>\n            <Input\n              className='input is-rounded'\n              type='text'\n              placeholder='Username'\n              autoComplete='username'\n              icon='email'\n              onChange={onChangeUsername}\n              required\n            />\n            <Input\n              autocomplete='password'\n              type='password'\n              placeholder='Password'\n              name='password'\n              icon='lock'\n              isPassword\n              onChange={onChangePassword}\n              required\n            />{' '}\n            <div className='field'>\n              <label className='checkbox'>\n                <input type='checkbox' /> Remember me\n              </label>\n            </div>\n            <button\n              className={`button is-block is-fullwidth is-primary is-medium is-rounded ${\n                isLoading ? 'is-loading' : ''\n              }`}\n              type='submit'\n            >\n              Login\n            </button>\n          </form>\n          <br />\n          <nav className='level'>\n            {/* <div className='level-item has-text-centered'>\n              <div>\n                <a>Forgot Password?</a>\n              </div>\n            </div> */}\n            <div className='level-item has-text-centered'>\n              <div>\n                <Link to='/register'>Create an Account</Link>\n              </div>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\nimport { register } from '../api/users'\nimport Input from '../components/Input'\nimport '../css/register.css'\n\nexport default function Register () {\n  const history = useHistory()\n  const [isLoading, setIsLoading] = useState(false)\n  const [errors, setErrors] = useState([])\n  const [user, setUser] = useState({\n    username: 'rnovec98',\n    fullname: 'Raul Novelo',\n    email: 'raul.novelo@aaaimx.org',\n    password: '12345',\n    password_confirm: '123456'\n  })\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setUser({ ...user, [attr]: val })\n  }\n\n  const onSubmit = async e => {\n    e.preventDefault()\n    setIsLoading(true)\n    setErrors([])\n    try {\n      await register(user)\n      history.push('/')\n    } catch (error) {\n      setErrors(Object.entries(error))\n    } finally {\n      setIsLoading(false)\n    }\n  }\n  return (\n    <section className='section container'>\n      <div className='columns is-multiline'>\n        <div className='column is-8 is-offset-2 register '>\n          <div className='columns'>\n            <div className='column left is-hidden-mobile'>\n              <img src='https://logoipsum.com/logo/logo-12.svg' />\n              <h2 className='subtitle colored is-4'>\n                Lorem ipsum dolor sit amet.\n              </h2>\n              <p>\n                Lorem, ipsum dolor sit amet consectetur adipisicing elit.\n                Corporis ex deleniti aliquam tempora libero excepturi vero\n                soluta odio optio sed.\n              </p>\n            </div>\n            <div className='column right has-text-centered'>\n              <h1 className='title is-4'>Sign up today</h1>\n              <p className='description'>\n                Lorem ipsum dolor, sit amet consectetur adipisicing elit\n              </p>\n\n              <form onSubmit={onSubmit}>\n                <Input\n                  autocomplete='username'\n                  placeholder='Username'\n                  name='username'\n                  value={user.username}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='name'\n                  placeholder='Full name'\n                  name='fullname'\n                  value={user.fullname}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='email'\n                  type='email'\n                  placeholder='Email'\n                  name='email'\n                  value={user.email}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='password'\n                  type='password'\n                  placeholder='Password'\n                  name='password'\n                  isPassword\n                  value={user.password}\n                  onChange={onChange}\n                  required\n                />\n                <Input\n                  autocomplete='password_confirm'\n                  type='password'\n                  placeholder='Confirm'\n                  name='password_confirm'\n                  isPassword\n                  value={user.password_confirm}\n                  onChange={onChange}\n                  required\n                />\n                {errors.length ? (\n                  <div className='field'>\n                    <p className='help is-danger'>{errors[0][1] || ''}</p>\n                  </div>\n                ) : (\n                  <></>\n                )}\n\n                <button\n                  className={`button is-medium is-rounded is-block is-primary is-fullwidth ${\n                    isLoading ? 'is-loading' : ''\n                  }`}\n                >\n                  Submit\n                </button>\n                <br />\n                <small>\n                  Already have an account? <Link to='/login'>Login</Link>\n                </small>\n              </form>\n            </div>\n          </div>\n        </div>\n        <div className='column is-8 is-offset-2'>\n          <br />\n          <nav className='level'>\n            <div className='level-left'>\n              <div className='level-item'>\n                <span className='icon'>\n                  <i className='fab fa-twitter'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fab fa-facebook'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fab fa-instagram'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fab fa-github'></i>\n                </span>{' '}\n                &emsp;\n                <span className='icon'>\n                  <i className='fas fa-envelope'></i>\n                </span>\n              </div>\n            </div>\n            <div className='level-right'>\n              <small className='level-item'>\n                &copy; logoipsum. All Rights Reserved.\n              </small>\n            </div>\n          </nav>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import Main from '../layouts/Main'\nimport { useContext } from 'react'\nimport { AuthContext } from '../context/auth'\nimport '../css/profile.css'\nimport '../css/profile-card.css'\n\nexport default function Profile ({ children }) {\n  const { user, defaultAvatar } = useContext(AuthContext)\n\n  return (\n    <section className='section container'>\n      <div className='columns'>\n        <div className='column is-4 '>\n          <aside className='menu'>\n            <ul className='menu-list'>\n              <div className='card box has-text-centered'>\n                <figure className='avatar'>\n                  <img width='200' src={user.picture || defaultAvatar} />\n                </figure>\n                <div className='media-content'>\n                  <p className='title is-4'>{user.fullname}</p>\n                  <p className='subtitle is-6'>@{user.username}</p>\n                  <ul className='has-text-left'>\n                    <li>\n                      <span className='icon'>\n                        <i className='fas fa-envelope' aria-hidden='true'></i>\n                      </span>\n                      &nbsp; {user.email}\n                    </li>\n                  </ul>\n                </div>\n                <br />\n                <footer className='card-footer'>\n                  <div className='card-footer-item'>\n                    <span className='icon'>\n                      <i className='fas fa-image'></i>&nbsp;0\n                    </span>\n                  </div>\n                  <div className='card-footer-item'>\n                    <span className='icon'>\n                      <i className='fas fa-heart'></i>&nbsp;0\n                    </span>\n                  </div>\n                </footer>\n              </div>\n            </ul>\n          </aside>\n        </div>\n        {children}\n      </div>\n    </section>\n  )\n}\n","import { timeSince } from '../util/time'\nimport PostOptions from './PostOptions'\n\nexport default function PostPreview ({ post }) {\n  return (\n    <article className='media box'>\n      <div className='media-left'>\n        <p >\n          <img className='image is-64x64' src={post.photo} />\n        </p>\n      </div>\n      <div className='media-content'>\n        <div className='content'>\n          <strong>{post.user.fullname}</strong> ·{' '}\n          <span>@{post.user.username}</span> ·{' '}\n          <small className='has-text-grey'>\n            <time>{timeSince(post.created)}</time> ago\n          </small>\n          <br />\n          {post.description}\n        </div>\n        <nav className='level is-mobile'>\n          <div className='level-left'>\n            &nbsp; &nbsp;\n            <a className='level-item'>\n              <span className='icon is-small'>\n                <i className='fas fa-comments'></i> 10\n              </span>\n            </a>\n            &nbsp; &nbsp;\n            <a className='level-item has-text-danger'>\n              <span className='icon is-small'>\n                <i className='fas fa-heart'></i> 1\n              </span>\n            </a>\n          </div>\n        </nav>\n      </div>\n      <div className='media-right'>\n        <PostOptions/>\n      </div>\n      <hr/>\n    </article>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { updateProfile } from '../api/users'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileForm () {\n  const { user, setUser } = useContext(AuthContext)\n  const [selectedFile, setSelectedFile] = useState({})\n  const [isLoading, setIsLoading] = useState(false)\n\n  const [form, setForm] = useState({\n    id: null,\n    picture: '',\n    address: '',\n    phone: ''\n  })\n\n  useEffect(() => {\n    setForm(user)\n    console.log(user)\n  }, [])\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setForm({ ...form, [attr]: val })\n  }\n\n  function onChangeFile (e) {\n    setSelectedFile(e.target.files[0])\n  }\n\n  async function onSubmit (e) {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      const form_data = new FormData()\n      if (selectedFile.name)\n        form_data.append('picture', selectedFile, selectedFile.name)\n      form_data.append('email', user.email)\n      form_data.append('username', user.username)\n      form_data.append('address', form.address)\n      form_data.append('phone', form.phone)\n      const data = await updateProfile(user.id, form_data)\n      setUser(data)\n    } catch (error) {\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <h3>Profile</h3>\n\n      <div className='field is-horizontal'>\n        <div className='field-label'>\n          <label className='label'>Avatar</label>\n        </div>\n        <div className='field-body'>\n          <div className='file has-name'>\n            <label className='file-label'>\n              <input\n                className='file-input'\n                type='file'\n                name='resume'\n                onChange={onChangeFile}\n              />\n              <span className='file-cta'>\n                <span className='file-icon'>\n                  <i className='fas fa-upload'></i>\n                </span>\n                <span className='file-label'>Change avatar</span>\n              </span>\n              {selectedFile.name && (\n                <span className='file-name'>{selectedFile.name}</span>\n              )}\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Address</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <input\n                className='input'\n                type='text'\n                placeholder='Address'\n                name='address'\n                onChange={onChange}\n                value={form.address}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Phone</label>\n        </div>\n        <div className='field-body'>\n          <div className='field is-expanded'>\n            <div className='field has-addons'>\n              <p className='control'>\n                <a className='button is-static'>+52</a>\n              </p>\n              <p className='control is-expanded'>\n                <input\n                  className='input'\n                  type='tel'\n                  placeholder='Your phone number'\n                  name='phone'\n                  onChange={onChange}\n                  value={form.phone}\n                />\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label'></div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <button\n                className={`button is-primary ${isLoading ? 'is-loading' : ''}`}\n              >\n                Save changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileForm () {\n  const { user } = useContext(AuthContext)\n  const [form, setForm] = useState({\n    username: '',\n    fullname: '',\n    email: ''\n  })\n\n  useEffect(() => {\n    setForm(user)\n  }, [])\n\n  function onChange (e) {\n    const val = e.target.value\n    const attr = e.target.name\n    setForm({ ...form, [attr]: val })\n  }\n\n  return (\n    <form>\n      <h3>Basic Info</h3>\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Account</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <p className='control is-expanded has-icons-left'>\n              <input\n                className='input'\n                type='text'\n                placeholder='Username'\n                name='username'\n                onChange={onChange}\n                value={form.username}\n              />\n              <span className='icon is-small is-left'>\n                <i className='fas fa-user'></i>\n              </span>\n            </p>\n          </div>\n          <div className='field'>\n            <p className='control is-expanded has-icons-left'>\n              <input\n                className='input is-success'\n                type='email'\n                placeholder='Email'\n                name='email'\n                onChange={onChange}\n                value={form.email}\n              />\n              <span className='icon is-small is-left'>\n                <i className='fas fa-envelope'></i>\n              </span>\n              {/* <span className='icon is-small is-right'>\n                <i className='fas fa-check'></i>\n              </span> */}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className='field is-horizontal'>\n        <div className='field-label is-normal'>\n          <label className='label'>Fullname</label>\n        </div>\n        <div className='field-body'>\n          <div className='field'>\n            <p className='control is-expanded'>\n              <input\n                className='input'\n                type='text'\n                placeholder='First name'\n                name='fullname'\n                onChange={onChange}\n                value={form.fullname}\n              />\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className='field is-horizontal'>\n        <div className='field-label'></div>\n        <div className='field-body'>\n          <div className='field'>\n            <div className='control'>\n              <button className='button is-primary'>Save changes</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n","import { useContext, useEffect, useState } from 'react'\nimport Main from '../layouts/Main'\nimport Profile from '../layouts/Profile'\nimport PostPreview from '../components/PostPreview'\nimport ProfileForm from '../components/ProfileForm'\nimport AccountForm from '../components/AccountForm'\nimport '../css/profile.css'\nimport '../css/profile-card.css'\nimport { getUserPosts } from '../api/users'\nimport { AuthContext } from '../context/auth'\n\nexport default function ProfileReview({ match: { params } }) {\n  const { user } = useContext(AuthContext)\n  const [isEdit, setIsEdit] = useState(false)\n  const [posts, setPosts] = useState([])\n  function toggleTab () {\n    setIsEdit(!isEdit)\n  }\n  useEffect(() => {\n    getUserPosts(params.id).then(res => {\n      setPosts(res.results)\n    })\n  }, user)\n  return (\n    <Main>\n      <br />\n      <Profile>\n        <div className='column is-8'>\n          <div className='tabs is-centered is-boxed is-medium'>\n            <ul>\n              <li className={`${!isEdit ? 'is-active' : ''}`}>\n                <a onClick={toggleTab}>\n                  <span className='icon is-small'>\n                    <i className='fas fa-image' aria-hidden='true'></i>\n                  </span>\n                  <span>Posts</span>\n                </a>\n              </li>\n              <li className={`${isEdit ? 'is-active' : ''}`}>\n                <a onClick={toggleTab}>\n                  <span className='icon is-small'>\n                    <i className='fas fa-cog' aria-hidden='true'></i>\n                  </span>\n                  <span>Edit Profile</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <div className='box content'>\n            {isEdit ? (\n              <>\n                <AccountForm />\n                <ProfileForm />\n              </>\n            ) : (\n              <>\n                {' '}\n                {!posts.length ? (\n                  <div className='notification is-link'>\n                    <article className='media'>\n                      <div className='media-left'>\n                        <span className='icon'>\n                          <i className='fas fa-sad-tear'></i>\n                        </span>\n                      </div>\n                      <div className='media-content'>\n                        Nothing's here…{' '}\n                        <strong>You do not have any post yet</strong>.\n                      </div>\n                      <div className='media-right'>\n                        {/* <button className='button is-small is-primary'>\n                          Dismiss\n                        </button> */}\n                      </div>\n                    </article>\n                  </div>\n                ) : (\n                  posts.map(post => <PostPreview key={post.uuid} post={post} />)\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </Profile>\n    </Main>\n  )\n}\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getToken } from '../util/auth'\n\nconst GuardedRoute = ({ component: Component, auth, ...rest }) => {\n  const token = getToken()\n\n  if (token) {\n    console.log(window.location.href)\n    return <Route {...rest} render={props => <Component {...props} />} />\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        auth ? <Component {...props} /> : <Redirect to='/login' />\n      }\n    />\n  )\n}\n\nexport default GuardedRoute\n","import React, { useContext } from 'react'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport Home from '../pages/Home'\nimport Login from '../pages/Login'\nimport Register from '../pages/Register'\nimport Profile from '../pages/Profile'\nimport { AuthContext } from '../context/auth'\nimport GuardedRoute from './GuardedRoute'\n\nexport default function App () {\n  const { isAuthenticated } = useContext(AuthContext)\n\n  return (\n    <Router>\n      <Switch>\n        <Route path='/register'>\n          <Register />\n        </Route>\n        <Route path='/login'>\n          <Login />\n        </Route>\n        <GuardedRoute\n          path='/profile/:id'\n          component={Profile}\n          auth={isAuthenticated}\n        />\n        <GuardedRoute path='/' component={Home} auth={isAuthenticated} />\n      </Switch>\n    </Router>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './router'\nimport { AuthContextProvider } from './context/auth'\nimport { PostContextProvider } from './context/posts'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <PostContextProvider>\n        <App />\n      </PostContextProvider>\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}