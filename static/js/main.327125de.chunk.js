(this["webpackJsonpreact-ig"]=this["webpackJsonpreact-ig"]||[]).push([[0],{33:function(e,s,t){},34:function(e,s,t){},35:function(e,s,t){},69:function(e,s,t){},70:function(e,s,t){},71:function(e,s,t){"use strict";t.r(s);var c=t(0),a=t(1),n=t.n(a),i=t(36),r=t.n(i),l=t(9),j=t(5),o=t(3),d=t.n(o),m=t(4),b=t(2),u=t(37),h=t.n(u),O=t(15),x=t.n(O),p=t(38),f="Access-Token",v="Refresh-Token";function N(){return x.a.get(f)}function g(e){x.a.set(v,e)}function w(e){return Object(p.a)(e)}var y=h.a.create({baseURL:"https://petgram-demo.herokuapp.com/api/v1",mode:"cors",credentials:"same-origin",timeout:2e4});y.interceptors.request.use((function(e){var s=N();return e.public||(e.headers.Authorization="Bearer "+s),e})),y.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response.data)}));var C=y;function k(e){return C({url:"/token/access/",method:"POST",public:!0,data:e})}function S(e,s){return C({url:"/users/".concat(e),headers:{"Content-Type":"multipart/form-data"},method:"PUT",data:s})}var P=Object(a.createContext)(),A=function(e){var s=e.children,t=Object(a.useState)(!1),n=Object(b.a)(t,2),i=n[0],r=n[1],l=Object(a.useState)({}),j=Object(b.a)(l,2),o=j[0],u=j[1],h=function(){var e=Object(m.a)(d.a.mark((function e(s){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(s);case 2:t=e.sent,c=t.access,x.a.set(f,c),g(t.refresh),r(!0),Promise.resolve(t);case 7:case"end":return e.stop()}var c}),e)})));return function(s){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(d.a.mark((function e(){var s,t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=N(),t=w(s),e.next=4,a=t.id,C({url:"/users/".concat(a),method:"GET"});case 4:c=e.sent,u(c),Promise.resolve(c);case 7:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),p={user:o,isAuthenticated:i,defaultAvatar:"https://cooplaaurora.com/resources/members/default-user.jpg",getUser:O,setUser:u,setIsAuthenticated:r,authenticate:h,logout:function(){x.a.remove(f),x.a.remove(v),r(!1),u({})}};return Object(c.jsx)(P.Provider,{value:p,children:s})};function T(){var e=Object(j.g)(),s=Object(a.useContext)(P),t=s.user,n=s.logout;return Object(c.jsxs)("div",{className:"navbar is-inline-flex is-transparent",children:[Object(c.jsx)("div",{className:"navbar-brand",children:Object(c.jsx)(l.b,{to:"/",className:"navbar-item",children:Object(c.jsx)("img",{src:"/petgram-demo/logo.png"})})}),Object(c.jsx)("div",{className:"navbar-menu",children:Object(c.jsx)("div",{className:"navbar-item"})}),Object(c.jsxs)("div",{className:"navbar-item is-flex-touch",children:[Object(c.jsx)(l.b,{className:"navbar-item",to:"/",children:Object(c.jsx)("i",{className:"material-icons",children:"home"})}),Object(c.jsx)(l.b,{to:"/profile/"+t.id,className:"navbar-item",children:Object(c.jsx)("i",{className:"material-icons",children:"person_outline"})}),Object(c.jsx)("a",{className:"navbar-item",onClick:function(){n(),e.push("/login")},children:Object(c.jsx)("i",{className:"material-icons has-text-danger",children:"logout"})})]})]})}function E(){return Object(c.jsx)("footer",{className:"footer",children:Object(c.jsx)("div",{className:"container is-fluid",children:Object(c.jsx)("div",{className:"content has-text-centered",children:Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Petgram"})," by \xa0",Object(c.jsx)("a",{href:"https://rnovec.github.io",children:"Ra\xfal Novelo"}),". The source code is licensed \xa0",Object(c.jsx)("a",{href:"http://opensource.org/licenses/mit-license.php",children:"MIT"}),". The website content is licensed \xa0",Object(c.jsx)("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:"CC BY NC SA 4.0"}),"."]})})})})}t(33);function _(e){var s=e.children,t=Object(a.useContext)(P).getUser;return Object(a.useEffect)((function(){t()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{}),s,Object(c.jsx)(E,{})]})}function D(e){return C({url:"/posts/".concat(e,"/comments"),method:"GET"})}function q(e,s){return C({url:"/posts/".concat(e,"/likes"),method:"PUT",data:s})}function F(e){return C({url:"/posts",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:e})}function L(e){return C({url:"/posts/".concat(e),method:"DELETE"})}function U(e){return C({url:"/comments",method:"POST",data:e})}function M(e){var s=Math.floor((new Date-new Date(e))/1e3),t=s/31536e3;return t>1?Math.floor(t)+" years":(t=s/2592e3)>1?Math.floor(t)+" months":(t=s/86400)>1?Math.floor(t)+" days":(t=s/3600)>1?Math.floor(t)+" hours":(t=s/60)>1?Math.floor(t)+" minutes":Math.floor(s)+" seconds"}function z(e){var s=e.post_id,t=e.onComment,n=Object(a.useContext)(P),i=n.user,r=n.defaultAvatar,l=Object(a.useState)(""),j=Object(b.a)(l,2),o=j[0],u=j[1];function h(){return(h=Object(m.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!o.trim()){e.next=6;break}return e.next=4,U({user_id:i.id,post_id:s,message:o});case 4:u(""),t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("figure",{className:"media-left",children:Object(c.jsx)("p",{className:"image is-48x48",children:Object(c.jsx)("img",{className:"is-rounded",src:i.picture||r})})}),Object(c.jsx)("div",{className:"media-content",children:Object(c.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control",children:Object(c.jsx)("textarea",{className:"textarea",rows:"3",onChange:function(e){e.preventDefault(),u(e.target.value)},placeholder:"Add a comment..."})})}),Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control",children:Object(c.jsx)("button",{className:"button is-primary is-fullwidth",children:"Post comment"})})})]})})]})}function R(e){var s=e.comment,t=Object(a.useContext)(P).defaultAvatar;return Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("figure",{className:"media-left",children:Object(c.jsx)("p",{className:"image is-32x32",children:Object(c.jsx)("img",{className:"is-rounded",src:s.user.picture||t})})}),Object(c.jsx)("div",{className:"media-content",children:Object(c.jsx)("div",{className:"content",children:Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:s.user.fullname}),Object(c.jsx)("br",{}),s.message,Object(c.jsx)("br",{}),Object(c.jsxs)("small",{className:"has-text-grey",children:[Object(c.jsx)("a",{href:"#add-comment",children:"Reply"})," \xb7 ",M(s.created)," ago"]})]})})})]})}var I=t(40),B=Object(a.createContext)(),G=function(e){var s=e.children,t=Object(a.useState)([]),n=Object(b.a)(t,2),i=n[0],r=n[1],l=function(){var e=Object(m.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({url:"/posts",method:"GET"});case 2:s=e.sent,r(s.results),Promise.resolve(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(d.a.mark((function e(s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(s);case 2:r(i.filter((function(e){return e.uuid!==s})));case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),o={posts:i,setPosts:r,getPostList:l,addPost:function(e){r([e].concat(Object(I.a)(i)))},deletePost:j};return Object(c.jsx)(B.Provider,{value:o,children:s})};function Y(e){var s=e.post_id,t=Object(a.useContext)(B).deletePost,n=Object(a.useState)(!1),i=Object(b.a)(n,2),r=i[0],l=i[1],j=Object(a.useState)(!1),o=Object(b.a)(j,2),u=o[0],h=o[1];function O(e){e.preventDefault(),l(!r)}function x(){return(x=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,t(s);case 3:l(!1),h(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("a",{onClick:O,className:"dropdown-item has-text-danger",children:"Delete post"}),Object(c.jsxs)("div",{className:"modal ".concat(r?"is-active":""),children:[Object(c.jsx)("div",{className:"modal-background"}),Object(c.jsxs)("div",{className:"modal-card",children:[Object(c.jsx)("header",{className:"modal-card-head",children:Object(c.jsx)("p",{className:"modal-card-title",children:"Are you sure?"})}),Object(c.jsxs)("section",{className:"modal-card-body",children:["This action will ",Object(c.jsx)("b",{children:"permanently destroy the post"}),"."]}),Object(c.jsxs)("footer",{className:"modal-card-foot has-text-left",children:[Object(c.jsx)("button",{className:"button is-danger ".concat(u?"is-loading":""),onClick:function(){return x.apply(this,arguments)},children:"Yes, I'm sure"}),Object(c.jsx)("button",{className:"button",onClick:O,children:"No, take me back"})]})]})]})]})}function J(e){var s=e.post,t=Object(a.useState)(!1),n=Object(b.a)(t,2),i=n[0],r=n[1];return Object(c.jsxs)("div",{className:"dropdown ".concat(i?"is-active":""," is-right"),children:[Object(c.jsx)("div",{className:"dropdown-trigger",children:Object(c.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),r(!i)},children:Object(c.jsx)("i",{className:"material-icons",children:"more_vert"})})}),Object(c.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu3",role:"menu",children:Object(c.jsxs)("div",{className:"dropdown-content",children:[Object(c.jsx)("a",{href:"#",className:"dropdown-item",children:"Edit"}),Object(c.jsx)("a",{href:"#",className:"dropdown-item",children:"Share"}),Object(c.jsx)("hr",{className:"dropdown-divider"}),Object(c.jsx)(Y,{post_id:s.uuid})]})})]})}function H(e){var s=e.post,t=Object(a.useContext)(P),n=t.user,i=t.defaultAvatar,r=Object(a.useState)(!1),l=Object(b.a)(r,2),j=l[0],o=l[1],u=Object(a.useState)(0),h=Object(b.a)(u,2),O=h[0],x=h[1],p=Object(a.useState)(!1),f=Object(b.a)(p,2),v=f[0],N=f[1],g=Object(a.useState)([]),w=Object(b.a)(g,2),y=w[0],C=w[1];function k(e){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(s.uuid);case 2:c=e.sent,C(c.results),o(!j);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v){e.next=8;break}return e.next=4,q(s.uuid,{user:n.id,action:"liked"});case 4:x(O+1),N(!0),e.next=12;break;case 8:return e.next=10,q(s.uuid,{user:n.id,action:"dislike"});case 10:x(O-1),N(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){x(s.likes.length),-1!==s.likes.indexOf(n.id)&&N(!0)}),[n]),Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("div",{className:"media",children:[Object(c.jsx)("div",{className:"media-left",children:Object(c.jsx)("figure",{className:"image is-48x48",children:Object(c.jsx)("img",{className:"is-rounded",src:s.user.picture||i,alt:"Placeholder"})})}),Object(c.jsxs)("div",{className:"media-content",children:[Object(c.jsx)("p",{className:"title is-4",children:s.user.fullname}),Object(c.jsxs)("p",{className:"subtitle is-6",children:["@",s.user.username]})]}),n.id===s.user.id&&Object(c.jsx)("div",{className:"media-right",children:Object(c.jsx)(J,{post:s})})]})}),Object(c.jsx)("div",{className:"card-image",children:Object(c.jsx)("figure",{className:"image is-4by3",children:Object(c.jsx)("img",{src:s.photo,alt:"Placeholder"})})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("div",{className:"level is-mobile",children:Object(c.jsxs)("div",{className:"level-left",children:[Object(c.jsx)("div",{className:"level-item has-text-centered",children:Object(c.jsx)("a",{onClick:function(e){return A.apply(this,arguments)},children:Object(c.jsx)("i",{className:"material-icons has-text-danger",children:v?"favorite":"favorite_border"})})}),Object(c.jsx)("div",{className:"level-item has-text-centered",children:Object(c.jsx)("div",{children:Object(c.jsx)("a",{onClick:k,children:Object(c.jsx)("i",{className:"material-icons",children:"chat_bubble_outline"})})})})]})}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsxs)("strong",{children:[O," Likes"]}),Object(c.jsx)("br",{}),s.description,Object(c.jsx)("br",{}),Object(c.jsx)("time",{children:M(s.created)})," ago"]}),j&&y.map((function(e){return Object(c.jsx)(R,{comment:e},e.uuid)}))]}),Object(c.jsx)("div",{id:"add-comment",className:"card-footer",children:Object(c.jsx)("div",{className:"column is-12",children:Object(c.jsx)(z,{post_id:s.uuid,onComment:k})})})]})}function K(){var e=Object(j.g)(),s=Object(a.useContext)(P),t=s.user,n=s.defaultAvatar,i=Object(a.useContext)(B).addPost,r=Object(a.useState)(null),l=Object(b.a)(r,2),o=l[0],u=l[1],h=Object(a.useState)(""),O=Object(b.a)(h,2),x=O[0],p=O[1],f=Object(a.useState)(""),v=Object(b.a)(f,2),N=v[0],g=v[1],w=Object(a.useState)(!1),y=Object(b.a)(w,2),C=y[0],k=y[1];function S(){return(S=Object(m.a)(d.a.mark((function s(c){var a,n;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c.preventDefault(),t.picture||e.push("/profile"),!x||!N){s.next=23;break}return k(!0),(a=new FormData).append("photo",o,o.name),a.append("description",N),a.append("user_id",t.id),s.prev=8,s.next=11,F(a);case 11:n=s.sent,i(n),g(""),u({}),p(""),s.next=20;break;case 18:s.prev=18,s.t0=s.catch(8);case 20:return s.prev=20,k(!1),s.finish(20);case 23:case"end":return s.stop()}}),s,null,[[8,18,20,23]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("header",{className:"card-header",children:Object(c.jsxs)("p",{className:"card-header-title",children:[Object(c.jsx)("span",{className:"icon is-medium",children:Object(c.jsx)("i",{className:"fas fa-image","aria-hidden":"true"})}),"Create a new post"]})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("figure",{className:"media-left image is-48x48",children:Object(c.jsx)("img",{className:"is-rounded",src:t.picture||n})}),Object(c.jsx)("div",{className:"media-content",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control ".concat(C?"is-loading":""),children:Object(c.jsx)("textarea",{className:"textarea",onChange:function(e){g(e.target.value)},rows:"3",placeholder:"Add a description..."})})})})]}),Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{id:"photo",accept:"image/png, image/jpeg",className:"file-input",onChange:function(e){u(e.target.files[0]),p(e.target.files[0].name.slice(0,10))},type:"file",name:"resume"})})})]}),Object(c.jsxs)("footer",{className:"card-footer",children:[Object(c.jsxs)("label",{htmlFor:"photo",className:"card-footer-item file-label",children:[Object(c.jsx)("i",{className:"material-icons",children:"perm_media"}),"\xa0",x?x+"...":"Add photo"]}),C?Object(c.jsxs)("a",{className:"card-footer-item button is-white is-loading",children:[Object(c.jsx)("i",{className:"material-icons",children:"send"}),"\xa0Publish"]}):Object(c.jsxs)("a",{onClick:function(e){return S.apply(this,arguments)},className:"card-footer-item",children:[Object(c.jsx)("i",{className:"material-icons",children:"send"}),"\xa0Publish"]})]})]})}function Q(){var e=Object(a.useContext)(B),s=e.posts,t=e.getPostList;return Object(a.useEffect)((function(){Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(c.jsx)(_,{children:Object(c.jsx)("section",{className:"section",children:Object(c.jsx)("div",{className:"columns body-columns",children:Object(c.jsxs)("div",{className:"column is-half is-offset-one-quarter",children:[Object(c.jsx)(K,{}),s.map((function(e){return Object(c.jsx)(H,{post:e},e.uuid)}))]})})})})}var V=t(19);function W(e){var s=e.type,t=void 0===s?"text":s,n=e.name,i=e.autocomplete,r=e.placeholder,l=e.value,j=e.required,o=e.icon,d=e.isPassword,m=Object(V.a)(e,["type","name","autocomplete","placeholder","value","required","icon","isPassword"]),u=Object(a.useState)(!1),h=Object(b.a)(u,2),O=h[0],x=h[1];return Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("div",{className:"control ".concat(o?"has-icons-left":""," has-icons-right"),children:[Object(c.jsx)("input",{className:"input is-rounded",onChange:m.onChange,name:n,autoComplete:i,value:l,type:d&&O?"text":t,required:!!j,placeholder:r}),o&&Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"material-icons",children:o})}),d&&Object(c.jsx)("span",{className:"icon is-small is-right is-clickable",onClick:function(){x(!O)},children:Object(c.jsx)("i",{className:"material-icons",children:O?"visibility":"visibility_off"})})]})})}t(69);function X(){var e=Object(j.g)(),s=Object(a.useState)(""),t=Object(b.a)(s,2),n=t[0],i=t[1],r=Object(a.useState)(""),o=Object(b.a)(r,2),u=o[0],h=o[1],O=Object(a.useState)(!1),x=Object(b.a)(O,2),p=x[0],f=x[1],v=Object(a.useContext)(P).authenticate;function N(){return(N=Object(m.a)(d.a.mark((function s(t){return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),f(!0),s.prev=2,s.next=5,v({username:n,password:u});case 5:e.push("/"),s.next=10;break;case 8:s.prev=8,s.t0=s.catch(2);case 10:return s.prev=10,f(!1),s.finish(10);case 13:case"end":return s.stop()}}),s,null,[[2,8,10,13]])})))).apply(this,arguments)}return Object(c.jsx)("section",{className:"hero is-fullheight",children:Object(c.jsx)("div",{className:"hero-body has-text-centered",children:Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("img",{src:"https://logoipsum.com/logo/logo-12.svg",alt:"login-logo",width:"325px"}),Object(c.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(c.jsx)(W,{className:"input is-rounded",type:"text",placeholder:"Username",autoComplete:"username",icon:"email",onChange:function(e){i(e.target.value)},required:!0}),Object(c.jsx)(W,{autocomplete:"password",type:"password",placeholder:"Password",name:"password",icon:"lock",isPassword:!0,onChange:function(e){h(e.target.value)},required:!0})," ",Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("label",{className:"checkbox",children:[Object(c.jsx)("input",{type:"checkbox"})," Remember me"]})}),Object(c.jsx)("button",{className:"button is-block is-fullwidth is-primary is-medium is-rounded ".concat(p?"is-loading":""),type:"submit",children:"Login"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("nav",{className:"level",children:Object(c.jsx)("div",{className:"level-item has-text-centered",children:Object(c.jsx)("div",{children:Object(c.jsx)(l.b,{to:"/register",children:"Create an Account"})})})})]})})})}var Z=t(13),$=t(7);t(70);function ee(){var e=Object(j.g)(),s=Object(a.useContext)(P).authenticate,t=Object(a.useState)(!1),n=Object(b.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)([]),u=Object(b.a)(o,2),h=u[0],O=u[1],x=Object(a.useState)({username:"rnovec",fullname:"Raul Novelo",email:"example@example.com",password:"(08642)!2a",password_confirm:"(08642)!2a"}),p=Object(b.a)(x,2),f=p[0],v=p[1];function N(e){var s=e.target.value,t=e.target.name;v(Object($.a)(Object($.a)({},f),{},Object(Z.a)({},t,s)))}var g=function(){var t=Object(m.a)(d.a.mark((function t(c){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),r(!0),O([]),t.prev=3,a=f.username,n=f.password,t.next=7,C({url:"/accounts/register/",method:"POST",public:!0,data:f});case 7:return t.next=9,s({username:a,password:n});case 9:e.push("/"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),O(Object.entries(t.t0));case 15:return t.prev=15,r(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsx)("section",{className:"section container",children:Object(c.jsxs)("div",{className:"columns is-multiline",children:[Object(c.jsx)("div",{className:"column is-8 is-offset-2 register ",children:Object(c.jsxs)("div",{className:"columns",children:[Object(c.jsxs)("div",{className:"column left is-hidden-mobile",children:[Object(c.jsx)("img",{src:"https://logoipsum.com/logo/logo-12.svg"}),Object(c.jsx)("h2",{className:"subtitle colored is-4",children:"Lorem ipsum dolor sit amet."}),Object(c.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Corporis ex deleniti aliquam tempora libero excepturi vero soluta odio optio sed."})]}),Object(c.jsxs)("div",{className:"column right has-text-centered",children:[Object(c.jsx)("h1",{className:"title is-4",children:"Sign up today"}),Object(c.jsx)("p",{className:"description",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit"}),Object(c.jsxs)("form",{onSubmit:g,children:[Object(c.jsx)(W,{autocomplete:"username",placeholder:"Username",name:"username",value:f.username,onChange:N,required:!0}),Object(c.jsx)(W,{autocomplete:"name",placeholder:"Full name",name:"fullname",value:f.fullname,onChange:N,required:!0}),Object(c.jsx)(W,{autocomplete:"email",type:"email",placeholder:"Email",name:"email",value:f.email,onChange:N,required:!0}),Object(c.jsx)(W,{autocomplete:"password",type:"password",placeholder:"Password",name:"password",isPassword:!0,value:f.password,onChange:N,required:!0}),Object(c.jsx)(W,{autocomplete:"password_confirm",type:"password",placeholder:"Confirm",name:"password_confirm",isPassword:!0,value:f.password_confirm,onChange:N,required:!0}),h.length?Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"help is-danger",children:h[0][1]||""})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("button",{className:"button is-medium is-rounded is-block is-primary is-fullwidth ".concat(i?"is-loading":""),children:"Submit"}),Object(c.jsx)("br",{}),Object(c.jsxs)("small",{children:["Already have an account? ",Object(c.jsx)(l.b,{to:"/login",children:"Login"})]})]})]})]})}),Object(c.jsxs)("div",{className:"column is-8 is-offset-2",children:[Object(c.jsx)("br",{}),Object(c.jsxs)("nav",{className:"level",children:[Object(c.jsx)("div",{className:"level-left",children:Object(c.jsxs)("div",{className:"level-item",children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-twitter"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-facebook"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-instagram"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fab fa-github"})})," ","\u2003",Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fas fa-envelope"})})]})}),Object(c.jsx)("div",{className:"level-right",children:Object(c.jsx)("small",{className:"level-item",children:"\xa9 logoipsum. All Rights Reserved."})})]})]})]})})}t(34),t(35);function se(e){var s=e.children,t=Object(a.useContext)(P),n=t.user,i=t.defaultAvatar;return Object(c.jsx)("section",{className:"section container",children:Object(c.jsxs)("div",{className:"columns",children:[Object(c.jsx)("div",{className:"column is-4 ",children:Object(c.jsx)("aside",{className:"menu",children:Object(c.jsx)("ul",{className:"menu-list",children:Object(c.jsxs)("div",{className:"card box has-text-centered",children:[Object(c.jsx)("figure",{className:"avatar",children:Object(c.jsx)("img",{width:"200",src:n.picture||i})}),Object(c.jsxs)("div",{className:"media-content",children:[Object(c.jsx)("p",{className:"title is-4",children:n.fullname}),Object(c.jsxs)("p",{className:"subtitle is-6",children:["@",n.username]}),Object(c.jsx)("ul",{className:"has-text-left",children:Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fas fa-envelope","aria-hidden":"true"})}),"\xa0 ",n.email]})})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("footer",{className:"card-footer",children:[Object(c.jsx)("div",{className:"card-footer-item",children:Object(c.jsxs)("span",{className:"icon",children:[Object(c.jsx)("i",{className:"fas fa-image"}),"\xa00"]})}),Object(c.jsx)("div",{className:"card-footer-item",children:Object(c.jsxs)("span",{className:"icon",children:[Object(c.jsx)("i",{className:"fas fa-heart"}),"\xa00"]})})]})]})})})}),s]})})}function te(e){var s=e.post;return Object(c.jsxs)("article",{className:"media box",children:[Object(c.jsx)("div",{className:"media-left",children:Object(c.jsx)("p",{children:Object(c.jsx)("img",{className:"image is-64x64",src:s.photo})})}),Object(c.jsxs)("div",{className:"media-content",children:[Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("strong",{children:s.user.fullname})," \xb7"," ",Object(c.jsxs)("span",{children:["@",s.user.username]})," \xb7"," ",Object(c.jsxs)("small",{className:"has-text-grey",children:[Object(c.jsx)("time",{children:M(s.created)})," ago"]}),Object(c.jsx)("br",{}),s.description]}),Object(c.jsx)("nav",{className:"level is-mobile",children:Object(c.jsxs)("div",{className:"level-left",children:["\xa0 \xa0",Object(c.jsxs)("a",{className:"level-item",children:[s.comments.length," \xa0",Object(c.jsx)("span",{className:"icon is-small",children:Object(c.jsx)("i",{className:"fas fa-comments"})})]}),"\xa0 \xa0",Object(c.jsx)("a",{className:"level-item has-text-danger",children:Object(c.jsxs)("span",{className:"icon is-small",children:[s.likes.length,"\xa0",Object(c.jsx)("i",{className:"fas fa-heart"})]})})]})})]}),Object(c.jsx)("div",{className:"media-right",children:Object(c.jsx)(J,{post:s})}),Object(c.jsx)("hr",{})]})}function ce(){var e=Object(a.useContext)(P),s=e.user,t=e.setUser,n=Object(a.useState)({}),i=Object(b.a)(n,2),r=i[0],l=i[1],j=Object(a.useState)(!1),o=Object(b.a)(j,2),u=o[0],h=o[1],O=Object(a.useState)({id:null,picture:"",address:"",phone:""}),x=Object(b.a)(O,2),p=x[0],f=x[1];function v(e){var s=e.target.value,t=e.target.name;f(Object($.a)(Object($.a)({},p),{},Object(Z.a)({},t,s)))}function N(){return(N=Object(m.a)(d.a.mark((function e(c){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),h(!0),e.prev=2,a=new FormData,r.name&&a.append("picture",r,r.name),a.append("email",s.email),a.append("username",s.username),a.append("address",p.address),a.append("phone",p.phone),e.next=11,S(s.id,a);case 11:n=e.sent,t(n),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,15,17,20]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){f(s),console.log(s)}),[]),Object(c.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(c.jsx)("h3",{children:"Profile"}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:"Avatar"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"file has-name",children:Object(c.jsxs)("label",{className:"file-label",children:[Object(c.jsx)("input",{className:"file-input",type:"file",name:"resume",onChange:function(e){l(e.target.files[0])}}),Object(c.jsxs)("span",{className:"file-cta",children:[Object(c.jsx)("span",{className:"file-icon",children:Object(c.jsx)("i",{className:"fas fa-upload"})}),Object(c.jsx)("span",{className:"file-label",children:"Change avatar"})]}),r.name&&Object(c.jsx)("span",{className:"file-name",children:r.name})]})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Address"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Address",name:"address",onChange:v,value:p.address})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Phone"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field is-expanded",children:Object(c.jsxs)("div",{className:"field has-addons",children:[Object(c.jsx)("p",{className:"control",children:Object(c.jsx)("a",{className:"button is-static",children:"+52"})}),Object(c.jsx)("p",{className:"control is-expanded",children:Object(c.jsx)("input",{className:"input",type:"tel",placeholder:"Your phone number",name:"phone",onChange:v,value:p.phone})})]})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label"}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("button",{className:"button is-primary ".concat(u?"is-loading":""),children:"Save changes"})})})})]})]})}function ae(){var e=Object(a.useContext)(P).user,s=Object(a.useState)({username:"",fullname:"",email:""}),t=Object(b.a)(s,2),n=t[0],i=t[1];function r(e){var s=e.target.value,t=e.target.name;i(Object($.a)(Object($.a)({},n),{},Object(Z.a)({},t,s)))}return Object(a.useEffect)((function(){i(e)}),[]),Object(c.jsxs)("form",{children:[Object(c.jsx)("h3",{children:"Basic Info"}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Account"})}),Object(c.jsxs)("div",{className:"field-body",children:[Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Username",name:"username",onChange:r,value:n.username}),Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"fas fa-user"})})]})}),Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("p",{className:"control is-expanded has-icons-left",children:[Object(c.jsx)("input",{className:"input is-success",type:"email",placeholder:"Email",name:"email",onChange:r,value:n.email}),Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"fas fa-envelope"})})]})})]})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label is-normal",children:Object(c.jsx)("label",{className:"label",children:"Fullname"})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("p",{className:"control is-expanded",children:Object(c.jsx)("input",{className:"input",type:"text",placeholder:"First name",name:"fullname",onChange:r,value:n.fullname})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label"}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("button",{className:"button is-primary",children:"Save changes"})})})})]})]})}function ne(e){var s=e.match.params,t=Object(a.useContext)(P).user,n=Object(a.useState)(!1),i=Object(b.a)(n,2),r=i[0],l=i[1],j=Object(a.useState)([]),o=Object(b.a)(j,2),d=o[0],m=o[1];function u(){l(!r)}return Object(a.useEffect)((function(){var e;(e=s.id,C({url:"/users/".concat(e,"/posts"),method:"GET"})).then((function(e){m(e.results)}))}),[t]),Object(c.jsxs)(_,{children:[Object(c.jsx)("br",{}),Object(c.jsx)(se,{children:Object(c.jsxs)("div",{className:"column is-8",children:[Object(c.jsx)("div",{className:"tabs is-centered is-boxed is-medium",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{className:"".concat(r?"":"is-active"),children:Object(c.jsxs)("a",{onClick:u,children:[Object(c.jsx)("span",{className:"icon is-small",children:Object(c.jsx)("i",{className:"fas fa-image","aria-hidden":"true"})}),Object(c.jsx)("span",{children:"Posts"})]})}),Object(c.jsx)("li",{className:"".concat(r?"is-active":""),children:Object(c.jsxs)("a",{onClick:u,children:[Object(c.jsx)("span",{className:"icon is-small",children:Object(c.jsx)("i",{className:"fas fa-cog","aria-hidden":"true"})}),Object(c.jsx)("span",{children:"Edit Profile"})]})})]})}),Object(c.jsx)("div",{className:"box content",children:r?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ae,{}),Object(c.jsx)(ce,{})]}):Object(c.jsxs)(c.Fragment,{children:[" ",d.length?d.map((function(e){return Object(c.jsx)(te,{post:e},e.uuid)})):Object(c.jsx)("div",{className:"notification is-link",children:Object(c.jsxs)("article",{className:"media",children:[Object(c.jsx)("div",{className:"media-left",children:Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)("i",{className:"fas fa-sad-tear"})})}),Object(c.jsxs)("div",{className:"media-content",children:["Nothing's here\u2026"," ",Object(c.jsx)("strong",{children:"You do not have any post yet"}),"."]}),Object(c.jsx)("div",{className:"media-right"})]})})]})})]})})]})}var ie=function(e){var s=e.component,t=e.auth,a=Object(V.a)(e,["component","auth"]);return N()?(console.log(window.location.href),Object(c.jsx)(j.b,Object($.a)(Object($.a)({},a),{},{render:function(e){return Object(c.jsx)(s,Object($.a)({},e))}}))):Object(c.jsx)(j.b,Object($.a)(Object($.a)({},a),{},{render:function(e){return t?Object(c.jsx)(s,Object($.a)({},e)):Object(c.jsx)(j.a,{to:"/login"})}}))};function re(){var e=Object(a.useContext)(P).isAuthenticated;return Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{path:"/register",children:Object(c.jsx)(ee,{})}),Object(c.jsx)(j.b,{path:"/login",children:Object(c.jsx)(X,{})}),Object(c.jsx)(ie,{path:"/profile/:id",component:ne,auth:e}),Object(c.jsx)(ie,{path:"/",component:Q,auth:e})]})})}r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(A,{children:Object(c.jsx)(G,{children:Object(c.jsx)(re,{})})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.327125de.chunk.js.map